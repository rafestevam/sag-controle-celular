(function(){"use strict";var a={4235:function(a,e,i){i.r(e)},266:function(a,e,i){var o=i(9242),s=i(3396);const l={class:"is-gapless is-multiline"},t={key:0};function n(a,e,i,o,n,r){const c=(0,s.up)("MainNavigation"),d=(0,s.up)("Notification"),u=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("main",l,[a.showNavBar?((0,s.wg)(),(0,s.iD)("header",t,[(0,s.Wm)(c,{onAoUserLogout:e[0]||(e[0]=e=>a.userLogout())})])):(0,s.kq)("",!0),(0,s.Wm)(d,{onOnCloseNotification:a.closeNotification},null,8,["onOnCloseNotification"]),(0,s.Wm)(u)])}var r=i.p+"img/sag-light-logo.f511d0f6.png";const c={class:"navbar is-black",role:"navigation","aria-label":"main navigation"},d={class:"navbar-brand"},u=(0,s._)("img",{src:r,width:"112",height:"28"},null,-1),p=(0,s._)("a",{role:"button",class:"navbar-burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},[(0,s._)("span",{"aria-hidden":"true"}),(0,s._)("span",{"aria-hidden":"true"}),(0,s._)("span",{"aria-hidden":"true"})],-1),m={id:"navbarBasicExample",class:"navbar-menu"},h={class:"navbar-start"},_={class:"navbar-end"},f={class:"navbar-item"},v={class:"buttons"};function g(a,e,i,o,l,t){const n=(0,s.up)("router-link"),r=(0,s.up)("MainNavItem");return(0,s.wg)(),(0,s.iD)("nav",c,[(0,s._)("div",d,[(0,s.Wm)(n,{class:"navbar-item",to:"/home"},{default:(0,s.w5)((()=>[u])),_:1}),p]),(0,s._)("div",m,[(0,s._)("div",h,[(0,s.Wm)(r,{icon:"fa-solid fa-house-user",label:"Home",isDropDown:!1,route:"/home"}),(0,s.Wm)(r,{label:"Centro de Custo",icon:"fa-solid fa-euro-sign",isDropDown:!0,dropDownItems:[{label:"Adicionar Novo",route:"/cc/novo"},{label:"Listar Todos",route:"/cc"}]}),(0,s.Wm)(r,{label:"Funcionários",icon:"fa-solid fa-user-group",isDropDown:!0,dropDownItems:[{label:"Adicionar Novo",route:"/funcionarios/novo"},{label:"Listar Todos",route:"/funcionarios"}]}),(0,s.Wm)(r,{label:"Aparelhos",icon:"fa-solid fa-mobile-screen-button",isDropDown:!0,dropDownItems:[{label:"Adicionar Novo",route:"/aparelhos/novo"},{label:"Listar Todos",route:"/aparelhos"}]}),(0,s.Wm)(r,{label:"Linhas",icon:"fa-solid fa-tower-cell",isDropDown:!0,dropDownItems:[{label:"Adicionar Nova",route:"/linhas/nova"},{label:"Listar Todas",route:"/linhas"}]}),(0,s.Wm)(r,{label:"Utilitários",icon:"fa-solid fa-laptop",isDropDown:!0,dropDownItems:[{label:"Gerador de Termos",route:"/utilities/termo"},{label:"Carga em Lote",route:"/utilities/bulk"}]})]),(0,s._)("div",_,[(0,s._)("div",f,[(0,s._)("div",v,[(0,s._)("a",{class:"button is-primary",onClick:e[0]||(e[0]=e=>a.logoutUser())}," Log Out ")])])])])])}var b=i(7139);const C={class:"navbar-item has-dropdown is-hoverable"},w={class:"navbar-link"},A={class:"navbar-dropdown"};function y(a,e,i,l,t,n){const r=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[a.isDropDown?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(r,{key:0,class:"navbar-item",to:a.route},{default:(0,s.w5)((()=>[a.icon?((0,s.wg)(),(0,s.iD)("i",{key:0,class:(0,b.C_)([a.icon,"icon-padding"])},null,2)):(0,s.kq)("",!0),(0,s.Uk)(" "+(0,b.zw)(a.label),1)])),_:1},8,["to"])),(0,s.wy)((0,s._)("div",C,[(0,s.wy)((0,s._)("a",w,[a.icon?((0,s.wg)(),(0,s.iD)("i",{key:0,class:(0,b.C_)([a.icon,"icon-padding"])},null,2)):(0,s.kq)("",!0),(0,s.Uk)(" "+(0,b.zw)(a.label),1)],512),[[o.F8,a.isDropDown]]),(0,s._)("div",A,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.dropDownItems,((a,e)=>((0,s.wg)(),(0,s.j4)(r,{class:"navbar-item",key:e,to:a.route},{default:(0,s.w5)((()=>[(0,s.Uk)((0,b.zw)(a.label),1)])),_:2},1032,["to"])))),128))])],512),[[o.F8,a.isDropDown]])],64)}var S=(0,s.aZ)({name:"MainNavItemComponent",props:{icon:{type:String},label:{type:String,required:!0},isDropDown:{type:Boolean,required:!0},route:{type:String},dropDownItems:{type:Array,default:()=>[{label:"",route:""}]}}}),D=i(89);const N=(0,D.Z)(S,[["render",y],["__scopeId","data-v-9f1a6cae"]]);var E=N,k=(0,s.aZ)({name:"MainNavigationComponent",emits:["aoUserLogout"],components:{MainNavItem:E},methods:{logoutUser(){this.$emit("aoUserLogout")}}});const I=(0,D.Z)(k,[["render",g]]);var F=I;const L={class:"sag-notifications"},M=["onClick"];function O(a,e,i,o,l,t){return(0,s.wg)(),(0,s.iD)("div",L,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.notifications,(e=>((0,s.wg)(),(0,s.iD)("div",{class:(0,b.C_)(["notification",a.ctx[e.type]]),key:e.id},[(0,s._)("button",{class:"delete",onClick:i=>a.emitCloseNotification(e.id)},null,8,M),(0,s.Uk)(" "+(0,b.zw)(e.message),1)],2)))),128))])}var T;(function(a){a[a["SUCCESS"]=0]="SUCCESS",a[a["WARNING"]=1]="WARNING",a[a["DANGER"]=2]="DANGER"})(T||(T={}));var V=i(65),U=i(6265),P=i.n(U);const z=P().create({baseURL:"http://localhost:5000/"});z.interceptors.request.use((a=>{const e=localStorage.getItem("jwt");return e&&(a.headers={Authorization:`Bearer ${e}`}),a}));var H=z;const $="GET_ALL_APARELHOS",x="POST_APARELHO",R="PUT_APARELHO",Z="DELETE_APARELHO",W="GET_APARELHOS_NO_LINHAS",G="POST_BULK_APARELHOS",q="LIST_ALL_APARELHOS",j={mutations:{[q](a,e){a.aparelhos=e}},actions:{[$]({commit:a}){H.get("aparelhos").then((e=>a(q,e.data)))},[x](a,e){return H.post("aparelhos",e,{headers:{"Content-Type":"application/json"}})},[R](a,e){return H.put(`/aparelhos/${e.id}`,e,{headers:{"Content-Type":"application/json"}}).then((()=>{const a=Oa.state.aparelho.aparelhos.findIndex((a=>a.id==e.id));Oa.state.aparelho.aparelhos[a]=e}))},[Z](a,e){return H["delete"](`/aparelhos/${e}`).then((()=>{Oa.state.aparelho.aparelhos=Oa.state.aparelho.aparelhos.filter((a=>a.id!=e))}))},[W]({commit:a}){H.get("aparelhos").then((e=>{a(q,e.data),Oa.state.aparelho.aparelhos=Oa.state.aparelho.aparelhos.filter((a=>null==a.linha))}))},[G](a,e){return H.post("/bulk/aparelhos",e,{headers:{"Content-Type":"multipart/form-data"}})}}},B="GET_ALL_CC",Y="GET_CC",K="POST_CC",X="PUT_CC",Q="DELETE_CC",J="POST_BULK_CC",aa="LIST_ALL_CC",ea="LIST_ONE_CC",ia={mutations:{[aa](a,e){a.ccs=e}},actions:{[B]({commit:a}){H.get("cc").then((e=>a(aa,e.data)))},[K](a,e){return H.post("/cc",e,{headers:{"Content-Type":"application/json"}})},[X](a,e){return H.put(`/cc/${e.id}`,e,{headers:{"Content-Type":"application/json"}}).then((()=>{const a=Oa.state.centrocusto.ccs.findIndex((a=>a.id==e.id));Oa.state.centrocusto.ccs[a]=e}))},[Q](a,e){return H["delete"](`/cc/${e}`).then((()=>{Oa.state.centrocusto.ccs=Oa.state.centrocusto.ccs.filter((a=>a.id!=e))}))},[Y](a,e){return H.get(`/cc/${e}`).then((e=>{const i=a.state.ccs;i.push(e.data),a.commit(ea,e.data)}))},[J](a,e){return H.post("/bulk/cc",e,{headers:{"Content-Type":"multipart/form-data"}})}}},oa="GET_ALL_FUNC",sa="POST_FUNC",la="PUT_FUNC",ta="DELETE_FUNC",na="TEST_API",ra="GENERATE_TERMO",ca="POST_BULK_FUNC",da="LIST_ALL_FUNC",ua="ADD_CC_2_FUNC",pa={mutations:{[da](a,e){a.funcionarios=e},[ua](a,e){a.funcionarios.forEach((a=>{const i=e.findIndex((e=>e.id==a.centro_custo_id));a.centro_custo=e[i]}))}},actions:{[oa](a){H.get("funcionarios").then((e=>{a.commit(da,e.data.funcionarios),H.get("cc").then((e=>{a.commit(ua,e.data)}))}))},[sa](a,e){return console.log(e),H.post("/funcionarios",e,{headers:{"Content-Type":"application/json"}})},[la](a,e){return H.put(`/funcionarios/${e.id}`,{nome:e.nome,sobrenome:e.sobrenome,nome_social:e.nome_social,admissao:e.admissao,data_nascimento:e.data_nascimento,cargo:e.cargo,rg:e.rg,cpf:e.cpf,centro_custo_id:e.centro_custo_id},{headers:{"Content-Type":"application/json"}}).then((()=>{const a=Oa.state.funcionario.funcionarios.findIndex((a=>a.id==e.id));Oa.state.funcionario.funcionarios[a]=e}))},[ta](a,e){return H["delete"](`/funcionarios/${e}`).then((()=>{Oa.state.funcionario.funcionarios.filter((a=>a.id!=e))}))},[na](a){return H.get("/hello").then((()=>{console.log("Teste de API realizado com sucesso!")}))},[ra](a,e){return H.get(`/compose/${e}`)},[ca](a,e){return H.post("/bulk/funcionarios",e,{headers:{"Content-Type":"multipart/form-data"}})}}},ma="GET_ALL_LINHAS",ha="POST_LINHA",_a="PUT_LINHA",fa="DELETE_LINHA",va="POST_BULK_LINHAS",ga="LIST_ALL_LINHAS",ba="ADD_LASTFUNC_2_LINHAS",Ca="ADD_FUNC_2_LINHAS",wa="ADD_DEVICE_2_LINHAS",Aa={mutations:{[ga](a,e){a.linhas=e},[ba](a,e){a.linhas.forEach((a=>{const i=e.findIndex((e=>e.id==a.last_funcionario_id));void 0!=e[i]?a.lastFuncionario=e[i]:a.lastFuncionario={}}))},[Ca](a,e){a.linhas.forEach((a=>{const i=e.findIndex((e=>e.id==a.funcionario_id));void 0!=e[i]?a.funcionarioVinculado=e[i]:a.funcionarioVinculado={}}))},[wa](a,e){a.linhas.forEach((a=>{const i=e.findIndex((e=>e.id==a.aparelho_id));void 0!=e[i]?a.aparelhoVinculado=e[i]:a.aparelhoVinculado={}}))}},actions:{[ma]({commit:a}){H.get("linhas").then((e=>{a(ga,e.data),H.get("funcionarios").then((e=>{a(ba,e.data.funcionarios),a(Ca,e.data.funcionarios)})),H.get("aparelhos").then((e=>a(wa,e.data)))}))},[ha](a,e){return H.post("linhas",e,{headers:{"Content-Type":"application/json"}})},[_a](a,e){return H.put(`/linhas/${e.id}`,{classificacao:e.classificacao,status:e.status,funcionario_id:e.funcionario_id,aparelho_id:e.aparelho_id},{headers:{"Content-Type":"application/json"}}).then((()=>{const a=Oa.state.linha.linhas.findIndex((a=>a.id==e.id));Oa.state.linha.linhas[a]=e}))},[fa](a,e){return H["delete"](`/linhas/${e}`).then((()=>{Oa.state.linha.linhas=Oa.state.linha.linhas.filter((a=>a.id!=e))}))},[va](a,e){return H.post("/bulk/linhas",e,{headers:{"Content-Type":"multipart/form-data"}})}}},ya="NOTIFY",Sa="DELETE_NOTIFICATION",Da="LOGIN_SUCCESS",Na="LOGIN_FAILURE",Ea="LOGOUT";var ka=i(1598);const Ia="USER_LOGIN",Fa="USER_LOGOUT",La={mutations:{[Da](a,e){const i=(0,ka.Z)(e),o={};o.name=i.name,o.email=i.username,o.accessToken=e,o.loggedIn=!0,a.user=o},[Na](a){a.user={}},[Ea](a){a.user={}}},actions:{[Ia](a,e){return H.post("login",{username:e.username,password:e.password},{headers:{"Content-Type":"application/json"}}).then((e=>{localStorage.setItem("jwt",e.data.access_token),a.commit(Da,e.data.access_token)}))},[Fa](a){return H.post("logout").then((()=>{localStorage.removeItem("jwt"),a.commit(Ea)}))}}},Ma=Symbol(),Oa=(0,V.MT)({state:{centrocusto:{ccs:[]},aparelho:{aparelhos:[]},linha:{linhas:[]},funcionario:{funcionarios:[]},usuario:{user:{}},notifications:[],modalNotifications:[]},mutations:{[ya](a,e){e.id=(new Date).toISOString(),a.notifications.push(e),setTimeout((()=>{a.notifications=a.notifications.filter((a=>a.id!=e.id))}),3e3)},[Sa](a,e){a.notifications=a.notifications.filter((a=>a.id!=e))}},modules:{centrocusto:ia,aparelho:j,linha:Aa,funcionario:pa,usuario:La}});function Ta(){return(0,V.oR)(Ma)}var Va=(0,s.aZ)({name:"NotificationComponent",emits:["onCloseNotification"],props:{notification:{type:Object}},data(){return{ctx:{[T.SUCCESS]:"is-success",[T.WARNING]:"is-warning",[T.DANGER]:"is-danger"}}},setup(){const a=Ta();return{notifications:(0,s.Fl)((()=>a.state.notifications))}},methods:{emitCloseNotification(a){this.$emit("onCloseNotification",a)}}});const Ua=(0,D.Z)(Va,[["render",O]]);var Pa=Ua,za=(0,s.aZ)({name:"App",components:{MainNavigation:F,Notification:Pa},setup(){const a=Ta();return(0,s.wF)((()=>{})),{store:a,loggedUser:(0,s.Fl)((()=>a.state.usuario.user)),showNavBar:(0,s.Fl)((()=>{const e=a.state.usuario.user||{};return!!e.loggedIn}))}},methods:{closeNotification(a){this.store.commit(Sa,a)},userLogout(){this.store.dispatch(Fa).then((()=>this.$router.push("/")))}}});const Ha=(0,D.Z)(za,[["render",n]]);var $a=Ha,xa=i(678);const Ra={class:"main-window"},Za={class:"title"},Wa={class:"tile is-ancestor"},Ga={class:"tile is-vertical"},qa={class:"tile"},ja={class:"tile is-parent"},Ba={class:"tile is-parent"},Ya=(0,s.Uk)(" Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus eleifend nulla non diam iaculis, non vulputate arcu sollicitudin. Phasellus et luctus lacus. Phasellus ultrices lobortis ex auctor mollis. Suspendisse potenti. Aenean lacinia turpis fermentum, efficitur lectus quis, rutrum lacus. Donec quis augue viverra, sagittis metus vel, ornare lectus. "),Ka={class:"tile is-parent"},Xa=(0,s.Uk)(" Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus eleifend nulla non diam iaculis, non vulputate arcu sollicitudin. Phasellus et luctus lacus. Phasellus ultrices lobortis ex auctor mollis. Suspendisse potenti. Aenean lacinia turpis fermentum, efficitur lectus quis, rutrum lacus. Donec quis augue viverra, sagittis metus vel, ornare lectus. ");function Qa(a,e,i,o,l,t){const n=(0,s.up)("DoughnutChart"),r=(0,s.up)("DashboardTile");return(0,s.wg)(),(0,s.iD)("div",Ra,[(0,s._)("h1",Za,"Bem Vindo, "+(0,b.zw)(a.loggedUser.name)+"!",1),(0,s._)("div",Wa,[(0,s._)("div",Ga,[(0,s._)("div",qa,[(0,s._)("div",ja,[(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[(0,s.Wm)(n)])),_:1})]),(0,s._)("div",Ba,[(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[Ya])),_:1})]),(0,s._)("div",Ka,[(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[Xa])),_:1})])])])])])}const Ja=(0,s._)("p",{class:"title"},"Vertical...",-1),ae=(0,s._)("p",{class:"subtitle"},"Top tile",-1),ee={class:"content"};function ie(a,e,i,o,l,t){return(0,s.wg)(),(0,s.iD)("article",{class:(0,b.C_)(["tile is-child notification",a.color])},[Ja,ae,(0,s._)("div",ee,[(0,s.WI)(a.$slots,"default")])],2)}var oe=(0,s.aZ)({name:"DashboardTileComponent",props:{color:{type:String}}});const se=(0,D.Z)(oe,[["render",ie]]);var le=se;function te(a,e,i,o,l,t){const n=(0,s.up)("Doughnut");return(0,s.wg)(),(0,s.j4)(n,{"chart-data":a.chartData,"chart-options":a.chartOptions},null,8,["chart-data","chart-options"])}var ne=i(6294),re=i(5140);re.kL.register(re.Dx,re.u,re.De,re.qi,re.uw);var ce=(0,s.aZ)({name:"DoughnutChartComponent",components:{Doughnut:ne.$I},props:{chartId:{type:String,default:"doughnut-chart"},width:{type:Number,default:300},height:{type:Number,default:300},plugins:{type:Array,default:()=>[]}},data(){return{chartData:{labels:["Disponível","Em Uso"],datasets:[{data:[138,29],backgroundColor:["#41B883","#E46651"]}]},chartOptions:{responsive:!0}}}});const de=(0,D.Z)(ce,[["render",te]]);var ue=de,pe=(0,s.aZ)({name:"HomeViewComponent",components:{DashboardTile:le,DoughnutChart:ue},setup(){const a=Ta();return{loggedUser:(0,s.Fl)((()=>a.state.usuario.user))}}});const me=(0,D.Z)(pe,[["render",Qa]]);var he=me;const _e={class:"main-window"},fe=(0,s._)("h1",{class:"title"},"Centro de Custo",-1);function ve(a,e,i,o,l,t){const n=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",_e,[fe,(0,s.Wm)(n)])}var ge=(0,s.aZ)({name:"CentroCustoViewComponent"});const be=(0,D.Z)(ge,[["render",ve]]);var Ce=be;const we=(0,s._)("div",null,[(0,s._)("h1",{class:"subtitle"},"Adicionar ou Alterar Centro de Custo")],-1),Ae={class:"main-form"},ye={class:"container is-widescreen"},Se={class:"field is-horizontal"},De=(0,s._)("div",{class:"field-label is-normal"},[(0,s._)("label",{class:"label"},"Código")],-1),Ne={class:"field-body"},Ee={class:"field"},ke={class:"control is-expanded"},Ie={class:"help is-danger"},Fe={class:"field is-horizontal"},Le=(0,s._)("div",{class:"field-label is-normal"},[(0,s._)("label",{class:"label"},"Nome")],-1),Me={class:"field-body"},Oe={class:"field"},Te={class:"control is-expanded"},Ve={class:"help is-danger"},Ue={class:"field is-horizontal"},Pe=(0,s._)("div",{class:"field-label"},null,-1),ze={class:"field-body"},He={class:"field is-grouped"},$e=(0,s._)("div",{class:"control"},[(0,s._)("input",{type:"submit",class:"button is-primary",value:"Salvar"})],-1),xe={class:"control"},Re=(0,s.Uk)("Cancelar ");function Ze(a,e,i,o,l,t){const n=(0,s.up)("Field"),r=(0,s.up)("router-link"),c=(0,s.up)("Form");return(0,s.wg)(),(0,s.iD)(s.HY,null,[we,(0,s._)("section",Ae,[(0,s._)("div",ye,[(0,s.Wm)(c,{onSubmit:a.saveCentroCusto,"validation-schema":a.schema},{default:(0,s.w5)((({errors:i})=>[(0,s._)("div",Se,[De,(0,s._)("div",Ne,[(0,s._)("div",Ee,[(0,s._)("p",ke,[(0,s.Wm)(n,{name:"iCodigo",class:(0,b.C_)(["input",{"is-danger":i.iCodigo}]),as:"input",modelValue:a.centro_custo.cc_cod,"onUpdate:modelValue":e[0]||(e[0]=e=>a.centro_custo.cc_cod=e)},null,8,["modelValue","class"])]),(0,s._)("p",Ie,(0,b.zw)(i.iCodigo),1)])])]),(0,s._)("div",Fe,[Le,(0,s._)("div",Me,[(0,s._)("div",Oe,[(0,s._)("p",Te,[(0,s.Wm)(n,{name:"iNome",class:(0,b.C_)(["input",{"is-danger":i.iNome}]),as:"input",modelValue:a.centro_custo.cc_nome,"onUpdate:modelValue":e[1]||(e[1]=e=>a.centro_custo.cc_nome=e)},null,8,["modelValue","class"])]),(0,s._)("p",Ve,(0,b.zw)(i.iNome),1)])])]),(0,s._)("div",Ue,[Pe,(0,s._)("div",ze,[(0,s._)("div",He,[$e,(0,s._)("div",xe,[(0,s.Wm)(r,{to:"/cc",class:"button is-light"},{default:(0,s.w5)((()=>[Re])),_:1})])])])])])),_:1},8,["onSubmit","validation-schema"])])])],64)}var We=i(4870),Ge=()=>{const a=(a,e)=>{Oa.commit(ya,{type:a,message:e})};return{notify:a}},qe=i(5708),je=i(6542),Be=(0,s.aZ)({name:"FormularioCCViewComponent",components:{Form:qe.l0,Field:qe.gN},props:{id:{type:String}},data(){const a=je.Ry().shape({iCodigo:je.Z_().required("O campo Código é obrigatório").matches(/^[0-9]{6}$/i,"O campo Código deve conter somente números").max(6,"O campo Código deve conter somente 6 números").min(6,"O campo Código deve conter 6 números"),iNome:je.Z_().required("O campo Nome é obrigatório")});return{schema:a}},setup(a){const e=Ta(),{notify:i}=Ge(),o=(0,We.iH)({});if(a.id){const i=e.state.centrocusto?.ccs.find((e=>e.id==a.id));o.value=i}return{store:e,centro_custo:o,notify:i}},methods:{saveCentroCusto(){this.id?this.store.dispatch(X,this.centro_custo).then((()=>{this.notify(T.SUCCESS,`Centro de Custo ${this.centro_custo.cc_cod} alterado com sucesso!`),this.$router.push("/cc")})).catch((a=>{this.notify(T.DANGER,`${a.response.data.message}`)})):this.store.dispatch(K,this.centro_custo).then((()=>{this.notify(T.SUCCESS,`Centro de Custo ${this.centro_custo.cc_cod} criado com sucesso!`),this.$router.push("/cc")})).catch((a=>{this.notify(T.DANGER,`${a.response?.data.message}`)}))}}});const Ye=(0,D.Z)(Be,[["render",Ze]]);var Ke=Ye;const Xe=(0,s._)("div",null,[(0,s._)("h1",{class:"subtitle"},"Lista de Centros de Custo")],-1),Qe={class:"main-form"},Je={class:"sag-button"},ai=(0,s._)("span",{class:"icon is-small"},[(0,s._)("i",{class:"fas fa-plus"})],-1),ei=(0,s._)("span",null,"Adicionar",-1),ii={class:"container is-widescreen"},oi={class:"field is-horizontal"},si={class:"field-body"},li=(0,s._)("div",{class:"field is-narrow"},[(0,s._)("div",{class:"control"}," Mostrando ")],-1),ti={class:"field is-narrow"},ni={class:"control"},ri={class:"select"},ci=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option>',5),di=[ci],ui=(0,s._)("div",{class:"field is-narrow"},[(0,s._)("div",{class:"control"}," linhas por página ")],-1),pi={class:"field-body"},mi={class:"field is-grouped is-grouped-right"},hi={class:"control has-icons-right"},_i=(0,s._)("span",{class:"icon is-small is-right"},[(0,s._)("i",{class:"fa-solid fa-magnifying-glass"})],-1),fi={key:0,id:"centros_custo",class:"table is-fullwidth"},vi=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",null,"Código"),(0,s._)("th",null,"Nome"),(0,s._)("th",null,"Ações")])],-1),gi=(0,s._)("span",{class:"icon is-small"},[(0,s._)("i",{class:"fas fa-pencil-alt"})],-1),bi=["onClick"],Ci=(0,s._)("span",{class:"icon is-small"},[(0,s._)("i",{class:"fas fa-trash"})],-1),wi=[Ci],Ai={class:"pagination",role:"pagination","aria-label":"pagination"},yi={class:"pagination-list"},Si=["onClick"];function Di(a,e,i,l,t,n){const r=(0,s.up)("ModalNotification"),c=(0,s.up)("router-link"),d=(0,s.up)("BoxNotification");return(0,s.wg)(),(0,s.iD)(s.HY,null,[Xe,(0,s.Wm)(r,{isActive:a.modalActive,title:a.modalTitle,message:a.modalMessage,onOnSaveModal:e[0]||(e[0]=e=>a.deleteCentroCusto(a.modalCCid,a.modalCCcod)),onOnCancelModal:e[1]||(e[1]=e=>a.closeModalDeleteCC())},null,8,["isActive","title","message"]),(0,s._)("section",Qe,[(0,s._)("div",Je,[(0,s.Wm)(c,{to:"/cc/novo",class:"button"},{default:(0,s.w5)((()=>[ai,ei])),_:1})]),(0,s._)("div",ii,[(0,s._)("div",oi,[(0,s._)("div",si,[li,(0,s._)("div",ti,[(0,s._)("div",ni,[(0,s._)("div",ri,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=e=>a.limitPerPage=e)},di,512),[[o.bM,a.limitPerPage]])])])]),ui]),(0,s._)("div",pi,[(0,s._)("div",mi,[(0,s._)("div",hi,[(0,s.wy)((0,s._)("input",{type:"text",class:"input","onUpdate:modelValue":e[3]||(e[3]=e=>a.search=e),placeholder:"Busca..."},null,512),[[o.nr,a.search]]),_i])])])]),a.centros_custo?((0,s.wg)(),(0,s.iD)("table",fi,[vi,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.filteredEntries,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.id},[(0,s._)("td",null,(0,b.zw)(e.cc_cod),1),(0,s._)("td",null,(0,b.zw)(e.cc_nome),1),(0,s._)("td",null,[(0,s.Wm)(c,{to:`/cc/${e.id}`,class:"button"},{default:(0,s.w5)((()=>[gi])),_:2},1032,["to"]),(0,s._)("button",{class:"button ml-2 is-danger",onClick:i=>a.modalDeleteCC(e.id,e.cc_cod)},wi,8,bi)])])))),128))])])):((0,s.wg)(),(0,s.j4)(d,{key:1,message:"Não há Centros de Custo cadastrados na base de dados"})),(0,s._)("div",Ai,[(0,s._)("ul",yi,[(0,s._)("li",null,[(0,s._)("a",{href:"#",onClick:e[4]||(e[4]=(0,o.iM)((e=>a.pageActive=1),["prevent"])),class:"pagination-link"},"«")]),(0,s._)("li",null,[(0,s._)("a",{href:"#",onClick:e[5]||(e[5]=(0,o.iM)((e=>a.pageActive=a.pageActive>1?a.pageActive-1:a.pageActive),["prevent"])),class:"pagination-link"},"‹")]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.renderPagination,((e,i)=>((0,s.wg)(),(0,s.iD)("li",{key:i},[(0,s._)("a",{class:(0,b.C_)(["pagination-link",{"is-current":a.pageActive===Number(e)}]),href:"#",onClick:(0,o.iM)((i=>a.pageActive=Number(e)),["prevent"])},(0,b.zw)(e),11,Si)])))),128)),(0,s._)("li",null,[(0,s._)("a",{href:"#",onClick:e[6]||(e[6]=(0,o.iM)((e=>a.pageActive=a.pageActive<a.totalPages?a.pageActive+1:a.pageActive),["prevent"])),class:"pagination-link"},"›")]),(0,s._)("li",null,[(0,s._)("a",{href:"#",onClick:e[7]||(e[7]=(0,o.iM)((e=>a.pageActive=a.totalPages),["prevent"])),class:"pagination-link"},"»")])])])])])],64)}const Ni={class:"notification is-info"};function Ei(a,e,i,o,l,t){return(0,s.wg)(),(0,s.iD)("div",Ni,(0,b.zw)(a.message),1)}var ki=(0,s.aZ)({name:"BoxNotificationComponent",props:{message:{type:String,required:!0}}});const Ii=(0,D.Z)(ki,[["render",Ei]]);var Fi=Ii;const Li=(0,s._)("div",{class:"modal-background"},null,-1),Mi={class:"modal-card"},Oi={class:"modal-card-head"},Ti={class:"modal-card-title"},Vi={class:"modal-card-body"},Ui={class:"content"},Pi={class:"modal-card-foot"};function zi(a,e,i,o,l,t){return(0,s.wg)(),(0,s.iD)("div",{class:(0,b.C_)(["modal",{"is-active":a.isActive}])},[Li,(0,s._)("div",Mi,[(0,s._)("header",Oi,[(0,s._)("p",Ti,(0,b.zw)(a.title),1),(0,s._)("button",{class:"delete","aria-label":"close",onClick:e[0]||(e[0]=(...e)=>a.emitOnCancelModal&&a.emitOnCancelModal(...e))})]),(0,s._)("section",Vi,[(0,s._)("div",Ui,[(0,s._)("p",null,(0,b.zw)(a.message),1)])]),(0,s._)("footer",Pi,[(0,s._)("button",{class:"button is-success",onClick:e[1]||(e[1]=(...e)=>a.emitOnSaveModal&&a.emitOnSaveModal(...e))},"Confirmar"),(0,s._)("button",{class:"button",onClick:e[2]||(e[2]=(...e)=>a.emitOnCancelModal&&a.emitOnCancelModal(...e))},"Cancelar")])])],2)}var Hi=(0,s.aZ)({name:"ModalNotificationComponent",props:{title:{type:String,required:!0},message:{type:String,required:!0},isActive:{type:Boolean}},emits:["onSaveModal","onCancelModal"],setup(){const a=Ta();return{modalNotifications:(0,s.Fl)((()=>a.state.modalNotifications))}},methods:{emitOnSaveModal(){this.$emit("onSaveModal")},emitOnCancelModal(){this.$emit("onCancelModal")}}});const $i=(0,D.Z)(Hi,[["render",zi]]);var xi=$i,Ri=i(4686),Zi=(0,s.aZ)({name:"ListaCCViewComponent",components:{BoxNotification:Fi,ModalNotification:xi},data(){return{modalTitle:"",modalMessage:"",modalCCcod:"",modalCCid:"",modalActive:!1}},setup(){const a=Ta(),{notify:e}=Ge();a.dispatch(B);const i=(0,We.iH)(1),o=(0,We.iH)(5),l=(0,We.iH)(1),t=(0,We.iH)(""),n=(0,We.iH)("");return{centros_custo:(0,s.Fl)((()=>a.state.centrocusto.ccs)),store:a,notify:e,limitPerPage:o,pageActive:i,totalPages:l,search:t,deletedCCId:n,filteredEntries:(0,s.Fl)((()=>{let e=a.state.centrocusto.ccs;return t.value.length>=2&&(e=Ri.IX.search(a.state.centrocusto.ccs,t.value)),""!=n.value&&(e=e.filter((a=>a.id!=n.value))),l.value=Ri.IX.pages(e,o.value),e=Ri.IX.paginate(e,i.value,o.value),e})),renderPagination:(0,s.Fl)((()=>{let a=Ri.IX.pagination(l.value,i.value,2);return a}))}},methods:{modalDeleteCC(a,e){this.modalActive=!0,this.modalTitle="Excluir Centro de Custo",this.modalMessage=`Você gostaria realmente de excluir o Centro de Custo ${e} ?`,this.modalCCcod=e,this.modalCCid=a},closeModalDeleteCC(){this.modalActive=!1,this.modalTitle="",this.modalMessage="",this.modalCCcod="",this.modalCCid=""},deleteCentroCusto(a,e){this.store.dispatch(Q,a).then((()=>{this.notify(T.SUCCESS,`Centro de Custo ${e} excluído com sucesso!`),this.modalActive=!1,this.deletedCCId=a})).catch((a=>{this.notify(T.DANGER,`${a.response.data.message}`),this.modalActive=!1}))}}});const Wi=(0,D.Z)(Zi,[["render",Di]]);var Gi=Wi;const qi=a=>((0,s.dD)("data-v-10e1b222"),a=a(),(0,s.Cn)(),a),ji={class:"main-window"},Bi=qi((()=>(0,s._)("h1",{class:"title"},"Linhas Telefônicas",-1)));function Yi(a,e,i,o,l,t){const n=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",ji,[Bi,(0,s.Wm)(n)])}var Ki=(0,s.aZ)({name:"LinhasViewComponent"});const Xi=(0,D.Z)(Ki,[["render",Yi],["__scopeId","data-v-10e1b222"]]);var Qi=Xi;const Ji=(0,s._)("div",null,[(0,s._)("h1",{class:"subtitle"},"Adicionar ou Alterar Linha Telefônica")],-1),ao={class:"main-form"},eo={class:"container is-widescreen"},io={class:"field is-horizontal"},oo=(0,s._)("div",{class:"field-label"},null,-1),so={class:"field-body"},lo={class:"field is-expanded"},to={class:"field has-addons"},no={class:"control"},ro={class:"control is-expanded"},co={key:1,class:"input"},uo={key:0,class:"help is-danger"},po={class:"field is-horizontal"},mo=(0,s._)("div",{class:"field-label is-normal"},[(0,s._)("label",{class:"label"},"Classificação")],-1),ho={class:"field-body"},_o={class:"field"},fo={class:"control is-expanded"},vo={class:"field is-horizontal"},go=(0,s._)("div",{class:"field-label is-normal"},[(0,s._)("label",{class:"label"},"Funcionário")],-1),bo={class:"field-body"},Co={class:"field"},wo={class:"control"},Ao={class:"is-fullwidth"},yo={key:1,class:"input"},So={class:"field is-horizontal"},Do=(0,s._)("div",{class:"field-label is-normal"},[(0,s._)("label",{class:"label"},"Aparelho")],-1),No={class:"field-body"},Eo={class:"field"},ko={class:"control"},Io={class:"is-fullwidth"},Fo={key:1,class:"input"},Lo={class:"field is-horizontal"},Mo=(0,s._)("div",{class:"field-label is-normal"},[(0,s._)("label",{class:"label"},"Último Funcionário")],-1),Oo={class:"field-body"},To={class:"field"},Vo={class:"control is-expanded"},Uo={class:"input"},Po={class:"field is-horizontal"},zo=(0,s._)("div",{class:"field-label is-normal"},[(0,s._)("label",{class:"label"},"Status da Linha")],-1),Ho={class:"field-body"},$o={class:"field"},xo={class:"control is-expanded"},Ro={class:"input"},Zo={class:"field is-horizontal"},Wo=(0,s._)("div",{class:"field-label"},null,-1),Go={class:"field-body"},qo={class:"field is-grouped"},jo={class:"control"},Bo={key:0,type:"submit",class:"button is-primary",value:"Salvar"},Yo={class:"control"},Ko=(0,s.Uk)("Cancelar");function Xo(a,e,i,o,l,t){const n=(0,s.up)("Field"),r=(0,s.up)("v-select"),c=(0,s.up)("router-link"),d=(0,s.up)("Form"),u=(0,s.Q2)("maska");return(0,s.wg)(),(0,s.iD)(s.HY,null,[Ji,(0,s._)("section",ao,[(0,s.Wm)(d,{onSubmit:a.saveLinhaTelefonica,"validation-schema":a.linhaSchema},{default:(0,s.w5)((({errors:i})=>[(0,s._)("div",eo,[(0,s._)("div",io,[oo,(0,s._)("div",so,[(0,s._)("div",lo,[(0,s._)("div",to,[(0,s._)("p",no,[(0,s._)("a",{class:(0,b.C_)(["button",{"is-danger":i.iTelefone&&!a.id,"is-static":!i.iTelefone||a.id}])}," +55 ",2)]),(0,s._)("p",ro,[a.id?((0,s.wg)(),(0,s.iD)("label",co,(0,b.zw)(a.numeroTelefone),1)):(0,s.wy)(((0,s.wg)(),(0,s.j4)(n,{key:0,modelValue:a.numeroTelefone,"onUpdate:modelValue":e[0]||(e[0]=e=>a.numeroTelefone=e),name:"iTelefone",as:"input",class:(0,b.C_)(["input",{"is-danger":i.iTelefone}]),placeholder:"Entrar o número de telefone no formato (99) 99999-9999"},null,8,["modelValue","class"])),[[u,"(##) #####-####"]])])]),a.id?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",uo,(0,b.zw)(i.iTelefone),1))])])]),(0,s._)("div",po,[mo,(0,s._)("div",ho,[(0,s._)("div",_o,[(0,s._)("p",fo,[(0,s.Wm)(n,{modelValue:a.linha.classificacao,"onUpdate:modelValue":e[1]||(e[1]=e=>a.linha.classificacao=e),name:"iClassificacao",as:"input",type:"text",class:"input",placeholder:""},null,8,["modelValue"])])])])]),(0,s._)("div",vo,[go,(0,s._)("div",bo,[(0,s._)("div",Co,[(0,s._)("div",wo,[(0,s._)("div",Ao,[a.linha.aparelho_id?((0,s.wg)(),(0,s.iD)("label",yo,"N/A")):((0,s.wg)(),(0,s.j4)(r,{key:0,modelValue:a.linha.funcionario_id,"onUpdate:modelValue":e[2]||(e[2]=e=>a.linha.funcionario_id=e),placeholder:"Escolha um funcionário...",options:a.funcionarios,label:"nome_social",reduce:a=>a.id,multiple:!1,clearable:!0},{option:(0,s.w5)((({nome_social:a})=>[(0,s._)("p",null,(0,b.zw)(a),1)])),_:1},8,["modelValue","options","reduce"]))])])])])]),(0,s._)("div",So,[Do,(0,s._)("div",No,[(0,s._)("div",Eo,[(0,s._)("div",ko,[(0,s._)("div",Io,[a.linha.funcionario_id?((0,s.wg)(),(0,s.iD)("label",Fo,"N/A")):((0,s.wg)(),(0,s.j4)(r,{key:0,modelValue:a.linha.aparelho_id,"onUpdate:modelValue":e[3]||(e[3]=e=>a.linha.aparelho_id=e),placeholder:"Escolha um aparelho...",options:a.aparelhos,label:"imei",value:a=>a.imei,reduce:a=>a.id,multiple:!1,clearable:!0},{option:(0,s.w5)((({imei:a})=>[(0,s._)("p",null,(0,b.zw)(a),1)])),_:1},8,["modelValue","options","value","reduce"]))])])])])]),(0,s._)("div",Lo,[Mo,(0,s._)("div",Oo,[(0,s._)("div",To,[(0,s._)("p",Vo,[(0,s._)("label",Uo,(0,b.zw)(a.linha.lastFuncionario?.nome_social||""),1)])])])]),(0,s._)("div",Po,[zo,(0,s._)("div",Ho,[(0,s._)("div",$o,[(0,s._)("p",xo,[(0,s._)("label",Ro,(0,b.zw)(a.linha.funcionarioVinculado.id||a.linha.aparelhoVinculado.id?a.linhaStatus.EM_USO:a.linhaStatus.DISPONIVEL),1)])])])]),(0,s._)("div",Zo,[Wo,(0,s._)("div",Go,[(0,s._)("div",qo,[(0,s._)("div",jo,[a.id?((0,s.wg)(),(0,s.iD)("input",{key:1,type:"submit",class:"button is-primary",value:"Salvar",onClick:e[4]||(e[4]=(...e)=>a.saveLinhaTelefonica&&a.saveLinhaTelefonica(...e))})):((0,s.wg)(),(0,s.iD)("input",Bo))]),(0,s._)("div",Yo,[(0,s.Wm)(c,{to:"/linhas",class:"button is-light"},{default:(0,s.w5)((()=>[Ko])),_:1})])])])])])])),_:1},8,["onSubmit","validation-schema"])])],64)}var Qo;(function(a){a["EM_USO"]="Em Uso",a["DISPONIVEL"]="Disponível"})(Qo||(Qo={}));var Jo=(0,s.aZ)({name:"FormularioLinhasViewComponent",components:{Form:qe.l0,Field:qe.gN},props:{id:{type:String}},data(){const a=je.Ry().shape({iTelefone:je.Z_().required("O campo Número de Telefone é obrigatório").matches(/^\([1-9]{2}\) [9]{0,1}[0-9]{1}[0-9]{3}-[0-9]{4}$/,"Entrar o número de Telefone no formato (99) 99999-9999")});return{linhaSchema:a}},setup(a){const e=Ta(),{notify:i}=Ge(),o=(0,We.iH)({}),l=(0,We.iH)(""),t=Qo;if(e.dispatch(oa),e.dispatch($),a.id){const i=e.state.linha?.linhas.find((e=>e.id==a.id));o.value=i,l.value=`(${i?.ddd}) ${i?.numero.substring(0,5)}-${i?.numero.substring(5,9)}`}else o.value.funcionarioVinculado={},o.value.lastFuncionario={},o.value.aparelhoVinculado={};return{store:e,notify:i,linha:o,linhaStatus:t,numeroTelefone:l,funcionarios:(0,s.Fl)((()=>e.state.funcionario.funcionarios)),aparelhos:(0,s.Fl)((()=>e.state.aparelho.aparelhos))}},methods:{saveLinhaTelefonica(){if(this.id)console.log("ALTERAR LINHA"),this.linha.funcionario_id?this.linha.status=Qo.EM_USO:(this.linha.funcionario_id="",this.linha.status=Qo.DISPONIVEL),this.linha.aparelho_id?this.linha.status=Qo.EM_USO:(this.linha.aparelho_id="",this.linha.status=Qo.DISPONIVEL),this.store.dispatch(_a,this.linha).then((()=>{this.notify(T.SUCCESS,`Linha #${this.numeroTelefone} alterada com sucesso!`),this.$router.push("/linhas")})).catch((a=>{this.notify(T.DANGER,a.response.data.message)}));else{const a=this.numeroTelefone.replace(/[^0-9]/g,"");this.linha.ddd=a.substring(0,2),this.linha.numero=a.substring(2,11),this.linha.status=this.linha.funcionario_id||this.linha.aparelho_id?Qo.EM_USO:Qo.DISPONIVEL,this.store.dispatch(ha,this.linha).then((()=>{this.notify(T.SUCCESS,`Linha #${this.numeroTelefone} cadastrada com sucesso!`),this.$router.push("/linhas")})).catch((a=>{this.notify(T.DANGER,a.response.data)}))}}}});const as=(0,D.Z)(Jo,[["render",Xo]]);var es=as;const is=(0,s._)("div",null,[(0,s._)("h1",{class:"subtitle"},"Lista de Linhas Telefônicas")],-1),os={class:"main-form"},ss={class:"sag-button"},ls=(0,s._)("span",{class:"icon is-small"},[(0,s._)("i",{class:"fas fa-plus"})],-1),ts=(0,s._)("span",null,"Adicionar",-1),ns={class:"container is-widescreen"},rs={class:"field is-horizontal"},cs={class:"field-body"},ds=(0,s._)("div",{class:"field is-narrow"},[(0,s._)("div",{class:"control"}," Mostrando ")],-1),us={class:"field is-narrow"},ps={class:"control"},ms={class:"select"},hs=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option>',5),_s=[hs],fs=(0,s._)("div",{class:"field is-narrow"},[(0,s._)("div",{class:"control"}," linhas por página ")],-1),vs={class:"field-body"},gs={class:"field is-grouped is-grouped-right"},bs={class:"control has-icons-right"},Cs=(0,s._)("span",{class:"icon is-small is-right"},[(0,s._)("i",{class:"fa-solid fa-magnifying-glass"})],-1),ws={key:0,class:"table is-fullwidth"},As=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("td",null,"Número"),(0,s._)("td",null,"Status"),(0,s._)("td",null,"Ações")])],-1),ys=(0,s._)("span",{class:"icon is-small"},[(0,s._)("i",{class:"fas fa-pencil-alt"})],-1),Ss=["onClick"],Ds=(0,s._)("span",{class:"icon is-small"},[(0,s._)("i",{class:"fas fa-trash"})],-1),Ns=[Ds],Es={class:"pagination",role:"pagination","aria-label":"pagination"},ks={class:"pagination-list"},Is=["onClick"];function Fs(a,e,i,l,t,n){const r=(0,s.up)("ModalNotification"),c=(0,s.up)("router-link"),d=(0,s.up)("BoxNotification");return(0,s.wg)(),(0,s.iD)(s.HY,null,[is,(0,s.Wm)(r,{title:"Excluir Linha Telefônica",message:`Você tem certeza que quer excluir a linha telefônica ${a.linhaSelFormatada}?`,isActive:a.modalActive,onOnCancelModal:e[0]||(e[0]=e=>a.closeModal()),onOnSaveModal:e[1]||(e[1]=e=>a.deleteLinha(a.modalLinhaID,a.linhaSelFormatada))},null,8,["message","isActive"]),(0,s._)("section",os,[(0,s._)("div",ss,[(0,s.Wm)(c,{to:"/linhas/nova",class:"button"},{default:(0,s.w5)((()=>[ls,ts])),_:1})]),(0,s._)("div",ns,[(0,s._)("div",rs,[(0,s._)("div",cs,[ds,(0,s._)("div",us,[(0,s._)("div",ps,[(0,s._)("div",ms,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=e=>a.limitPerPage=e)},_s,512),[[o.bM,a.limitPerPage]])])])]),fs]),(0,s._)("div",vs,[(0,s._)("div",gs,[(0,s._)("div",bs,[(0,s.wy)((0,s._)("input",{type:"text",class:"input","onUpdate:modelValue":e[3]||(e[3]=e=>a.search=e),placeholder:"Busca..."},null,512),[[o.nr,a.search]]),Cs])])])]),a.linhas?((0,s.wg)(),(0,s.iD)("table",ws,[As,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.filteredEntries,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.id},[(0,s._)("td",null,(0,b.zw)(`(${e.ddd}) ${e.numero.substring(0,5)}-${e.numero.substring(5,9)}`),1),(0,s._)("td",null,(0,b.zw)(e.status),1),(0,s._)("td",null,[(0,s.Wm)(c,{to:`/linhas/${e.id}`,class:"button"},{default:(0,s.w5)((()=>[ys])),_:2},1032,["to"]),(0,s._)("button",{class:"button ml-2 is-danger",onClick:i=>a.confirmDelete(e)},Ns,8,Ss)])])))),128))])])):(0,s.kq)("",!0),(0,s.wy)((0,s.Wm)(d,{message:"Não há Linhas Telefônicas cadastradas na base de dados"},null,512),[[o.F8,!a.linhas]]),(0,s._)("div",Es,[(0,s._)("ul",ks,[(0,s._)("li",null,[(0,s._)("a",{href:"#",onClick:e[4]||(e[4]=(0,o.iM)((e=>a.pageActive=1),["prevent"])),class:"pagination-link"},"«")]),(0,s._)("li",null,[(0,s._)("a",{href:"#",onClick:e[5]||(e[5]=(0,o.iM)((e=>a.pageActive=a.pageActive>1?a.pageActive-1:a.pageActive),["prevent"])),class:"pagination-link"},"‹")]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.renderPagination,((e,i)=>((0,s.wg)(),(0,s.iD)("li",{key:i},[(0,s._)("a",{class:(0,b.C_)(["pagination-link",{"is-current":a.pageActive===Number(e)}]),href:"#",onClick:(0,o.iM)((i=>a.pageActive=Number(e)),["prevent"])},(0,b.zw)(e),11,Is)])))),128)),(0,s._)("li",null,[(0,s._)("a",{href:"#",onClick:e[6]||(e[6]=(0,o.iM)((e=>a.pageActive=a.pageActive<a.totalPages?a.pageActive+1:a.pageActive),["prevent"])),class:"pagination-link"},"›")]),(0,s._)("li",null,[(0,s._)("a",{href:"#",onClick:e[7]||(e[7]=(0,o.iM)((e=>a.pageActive=a.totalPages),["prevent"])),class:"pagination-link"},"»")])])])])])],64)}var Ls=(0,s.aZ)({name:"ListaLinhasViewComponent",components:{ModalNotification:xi,BoxNotification:Fi},data(){return{modalLinhaID:"",linhaSelFormatada:"",modalType:null,modalActive:!1,componentKey:0}},setup(){const a=Ta(),{notify:e}=Ge();a.dispatch(ma);const i=(0,We.iH)(1),o=(0,We.iH)(5),l=(0,We.iH)(1),t=(0,We.iH)(""),n=(0,We.iH)("");return{store:a,notify:e,linhas:(0,s.Fl)((()=>a.state.linha.linhas)),limitPerPage:o,pageActive:i,totalPages:l,search:t,deletedLinhaID:n,filteredEntries:(0,s.Fl)((()=>{let e=a.state.linha.linhas;return t.value.length>=2&&(e=Ri.IX.search(a.state.linha.linhas,t.value)),""!=n.value&&(e=e.filter((a=>a.id!=n.value))),l.value=Ri.IX.pages(e,o.value),e=Ri.IX.paginate(e,i.value,o.value),e})),renderPagination:(0,s.Fl)((()=>{let a=Ri.IX.pagination(l.value,i.value,2);return a}))}},methods:{confirmDelete(a){this.modalActive=!0,this.modalLinhaID=a.id,this.linhaSelFormatada=`(${a.ddd}) ${a.numero.substring(0,5)}-${a.numero.substring(5,9)}`},closeModal(){this.modalActive=!1},forceRenderer(){this.componentKey+=1},deleteLinha(a,e){this.store.dispatch(fa,a).then((()=>{this.notify(T.SUCCESS,`A linha de telefone ${e} foi excluída com sucesso!`),this.deletedLinhaID=a,this.modalActive=!1})).catch((a=>{this.notify(T.DANGER,a.response.data.message),this.modalActive=!1}))}}});const Ms=(0,D.Z)(Ls,[["render",Fs]]);var Os=Ms;const Ts={class:"main-window"},Vs=(0,s._)("h1",{class:"title"},"Aparelhos Telefônicos",-1);function Us(a,e,i,o,l,t){const n=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",Ts,[Vs,(0,s.Wm)(n)])}var Ps=(0,s.aZ)({name:"AparelhosViewComponent"});const zs=(0,D.Z)(Ps,[["render",Us]]);var Hs=zs;const $s=(0,s._)("div",null,[(0,s._)("h1",{class:"subtitle"},"Adicionar ou Alterar Aparelho")],-1),xs={class:"main-form"},Rs={class:"container is-widescreen"},Zs={class:"field is-horizontal"},Ws=(0,s._)("div",{class:"field-label is-normal"},[(0,s._)("label",{class:"label"},"IMEI/IMEI2")],-1),Gs={class:"field-body"},qs={class:"field"},js={class:"control is-expanded"},Bs={class:"help is-danger"},Ys={class:"field"},Ks={class:"control is-expanded"},Xs={class:"help is-danger"},Qs={class:"field is-horizontal"},Js=(0,s._)("div",{class:"field-label is-normal"},[(0,s._)("label",{class:"label"},"Fabricante")],-1),al={class:"field-body"},el={class:"field"},il={class:"control is-expanded"},ol={class:"help is-danger"},sl={class:"field is-horizontal"},ll=(0,s._)("div",{class:"field-label is-normal"},[(0,s._)("label",{class:"label"},"Marca/Modelo")],-1),tl={class:"field-body"},nl={class:"field"},rl={class:"control is-expanded"},cl={class:"help is-danger"},dl={class:"field"},ul={class:"control is-expanded"},pl={class:"help is-danger"},ml={class:"field is-horizontal"},hl=(0,s._)("div",{class:"field-label is-normal"},[(0,s._)("label",{class:"label"},"Número Série")],-1),_l={class:"field-body"},fl={class:"field"},vl={class:"control is-expanded"},gl={class:"help is-danger"},bl={class:"field is-horizontal"},Cl=(0,s._)("div",{class:"field-label is-normal"},[(0,s._)("label",{class:"label"},"Acessórios")],-1),wl={class:"field-body"},Al={class:"field"},yl={class:"control is-expanded"},Sl={class:"help is-danger"},Dl={key:0,class:"field is-horizontal"},Nl=(0,s._)("div",{class:"field-label is-normal"},[(0,s._)("label",{class:"label"},"Linha Vinculada")],-1),El={class:"field-body"},kl={class:"field is-narrow"},Il={class:"control"},Fl={class:"input"},Ll={class:"field is-horizontal"},Ml=(0,s._)("div",{class:"field-label is-normal"},[(0,s._)("label",{class:"label"},"Funcionário")],-1),Ol={class:"field-body"},Tl={class:"field"},Vl={class:"control"},Ul={class:"is-fullwidth"},Pl={class:"field is-horizontal"},zl=(0,s._)("div",{class:"field-label is-normal"},[(0,s._)("label",{class:"label"},"Status do Aparelho")],-1),Hl={class:"field-body"},$l={class:"field"},xl={class:"control is-expanded"},Rl={class:"input"},Zl={class:"field is-horizontal"},Wl=(0,s._)("div",{class:"field-label"},null,-1),Gl={class:"field-body"},ql={class:"field is-grouped"},jl=(0,s._)("div",{class:"control"},[(0,s._)("input",{type:"submit",class:"button is-primary",value:"Salvar"})],-1),Bl={class:"control"},Yl=(0,s.Uk)("Cancelar");function Kl(a,e,i,o,l,t){const n=(0,s.up)("Field"),r=(0,s.up)("v-select"),c=(0,s.up)("router-link"),d=(0,s.up)("Form");return(0,s.wg)(),(0,s.iD)(s.HY,null,[$s,(0,s._)("section",xs,[(0,s.Wm)(d,{onSubmit:a.saveAparelho,"validation-schema":a.aparelhoSchema},{default:(0,s.w5)((({errors:i})=>[(0,s._)("div",Rs,[(0,s._)("div",Zs,[Ws,(0,s._)("div",Gs,[(0,s._)("div",qs,[(0,s._)("p",js,[(0,s.Wm)(n,{name:"iIMEI",as:"input",class:(0,b.C_)(["input",{"is-danger":i.iIMEI}]),modelValue:a.aparelho.imei,"onUpdate:modelValue":e[0]||(e[0]=e=>a.aparelho.imei=e),placeholder:"IMEI"},null,8,["modelValue","class"])]),(0,s._)("p",Bs,(0,b.zw)(i.iIMEI),1)]),(0,s._)("div",Ys,[(0,s._)("p",Ks,[(0,s.Wm)(n,{name:"iIMEI2",as:"input",class:(0,b.C_)(["input",{"is-danger":i.iIMEI2}]),modelValue:a.aparelho.imei_2,"onUpdate:modelValue":e[1]||(e[1]=e=>a.aparelho.imei_2=e),placeholder:"IMEI2"},null,8,["modelValue","class"])]),(0,s._)("p",Xs,(0,b.zw)(i.iIMEI2),1)])])]),(0,s._)("div",Qs,[Js,(0,s._)("div",al,[(0,s._)("div",el,[(0,s._)("p",il,[(0,s.Wm)(n,{name:"iFabricante",as:"input",class:(0,b.C_)(["input",{"is-danger":i.iFabricante}]),modelValue:a.aparelho.fabricante,"onUpdate:modelValue":e[2]||(e[2]=e=>a.aparelho.fabricante=e)},null,8,["modelValue","class"])]),(0,s._)("p",ol,(0,b.zw)(i.iFabricante),1)])])]),(0,s._)("div",sl,[ll,(0,s._)("div",tl,[(0,s._)("div",nl,[(0,s._)("p",rl,[(0,s.Wm)(n,{name:"iMarca",as:"input",class:(0,b.C_)(["input",{"is-danger":i.iMarca}]),modelValue:a.aparelho.marca,"onUpdate:modelValue":e[3]||(e[3]=e=>a.aparelho.marca=e),placeholder:"Marca"},null,8,["modelValue","class"])]),(0,s._)("p",cl,(0,b.zw)(i.iMarca),1)]),(0,s._)("div",dl,[(0,s._)("p",ul,[(0,s.Wm)(n,{name:"iModelo",as:"input",class:(0,b.C_)(["input",{"is-danger":i.iModelo}]),modelValue:a.aparelho.modelo,"onUpdate:modelValue":e[4]||(e[4]=e=>a.aparelho.modelo=e),placeholder:"Modelo"},null,8,["modelValue","class"])]),(0,s._)("p",pl,(0,b.zw)(i.iModelo),1)])])]),(0,s._)("div",ml,[hl,(0,s._)("div",_l,[(0,s._)("div",fl,[(0,s._)("p",vl,[(0,s.Wm)(n,{name:"iNumSerie",as:"input",class:(0,b.C_)(["input",{"is-danger":i.iNumSerie}]),modelValue:a.aparelho.numero_serie,"onUpdate:modelValue":e[5]||(e[5]=e=>a.aparelho.numero_serie=e)},null,8,["modelValue","class"])]),(0,s._)("p",gl,(0,b.zw)(i.iNumSerie),1)])])]),(0,s._)("div",bl,[Cl,(0,s._)("div",wl,[(0,s._)("div",Al,[(0,s._)("p",yl,[(0,s.Wm)(n,{name:"iAcessorios",as:"textarea",class:(0,b.C_)(["textarea",{"is-danger":i.iAcessorios}]),modelValue:a.aparelho.acessorios,"onUpdate:modelValue":e[6]||(e[6]=e=>a.aparelho.acessorios=e)},null,8,["modelValue","class"])]),(0,s._)("p",Sl,(0,b.zw)(i.iAcessorios),1)])])]),a.aparelho.linha?((0,s.wg)(),(0,s.iD)("div",Dl,[Nl,(0,s._)("div",El,[(0,s._)("div",kl,[(0,s._)("div",Il,[(0,s._)("label",Fl,(0,b.zw)(`(${a.aparelho.linha.ddd}) ${a.aparelho.linha.numero.substring(0,5)}-${a.aparelho.linha.numero.substring(5,9)}`),1)])])])])):(0,s.kq)("",!0),(0,s._)("div",Ll,[Ml,(0,s._)("div",Ol,[(0,s._)("div",Tl,[(0,s._)("div",Vl,[(0,s._)("div",Ul,[(0,s.Wm)(r,{modelValue:a.funcionarioVinculado,"onUpdate:modelValue":e[7]||(e[7]=e=>a.funcionarioVinculado=e),placeholder:"Escolha um funcionário...",options:a.funcionarios,label:"nome_social",multiple:!1,clearable:!0},null,8,["modelValue","options"])])])])])]),(0,s._)("div",Pl,[zl,(0,s._)("div",Hl,[(0,s._)("div",$l,[(0,s._)("p",xl,[(0,s._)("label",Rl,(0,b.zw)(a.aparelho.funcionario_id?a.aparelhoStatus.EM_USO:a.aparelhoStatus.DISPONIVEL),1)])])])]),(0,s._)("div",Zl,[Wl,(0,s._)("div",Gl,[(0,s._)("div",ql,[jl,(0,s._)("div",Bl,[(0,s.Wm)(c,{to:"/aparelhos",class:"button is-light"},{default:(0,s.w5)((()=>[Yl])),_:1})])])])])])])),_:1},8,["onSubmit","validation-schema"])])],64)}var Xl;(function(a){a["EM_USO"]="Em Uso",a["DISPONIVEL"]="Disponível"})(Xl||(Xl={}));var Ql=(0,s.aZ)({name:"FormularioAparelhosViewComponent",components:{Form:qe.l0,Field:qe.gN},props:{id:{type:String}},data(){const a=je.Ry().shape({iIMEI:je.Z_().required("O campo IMEI é obrigatório").matches(/^[0-9]{15,17}$/i,"O campo IMEI deve conter entre 15 e 17 números"),iIMEI2:je.Z_().required("O campo IMEI é obrigatório").matches(/^[0-9]{15,17}$/i,"O campo IMEI deve conter entre 15 e 17 números"),iFabricante:je.Z_().required("O campo Fabricante é obrigatório"),iMarca:je.Z_().required("O campo Fabricante é obrigatório"),iModelo:je.Z_().required("O campo Fabricante é obrigatório"),iNumSerie:je.Z_().required("O campo Número de Série é obrigatório"),iAcessorios:je.Z_().required("O campo Acessórios é obrigatório")});return{aparelhoSchema:a,options:["Teste1","Teste2"]}},setup(a){const e=Ta(),{notify:i}=Ge(),o=(0,We.iH)({}),l=Xl,t=(0,We.iH)({});if(e.dispatch(oa),a.id){const i=e.state.aparelho?.aparelhos.find((e=>e.id==a.id));if(o.value=i,i?.funcionario_id){const a=e.state.funcionario?.funcionarios.find((a=>a.id==i?.funcionario_id));t.value=a}}return{store:e,notify:i,aparelho:o,aparelhoStatus:l,funcionarios:(0,s.Fl)((()=>e.state.funcionario.funcionarios)),funcionarioVinculado:t}},methods:{saveAparelho(){this.id?(console.log("ALTERANDO APARELHO"),this.funcionarioVinculado?(this.aparelho.funcionario_id=this.funcionarioVinculado.id,this.aparelho.status=this.aparelhoStatus.EM_USO):(this.aparelho.funcionario_id="",this.aparelho.status=this.aparelhoStatus.DISPONIVEL),this.store.dispatch(R,this.aparelho).then((()=>{this.notify(T.SUCCESS,`Aparelho ${this.aparelho.marca}-${this.aparelho.modelo} alterado com sucesso!`),this.$router.push("/aparelhos")})).catch((a=>{this.notify(T.DANGER,a.response.data.message)}))):(this.aparelho.status=this.aparelhoStatus.DISPONIVEL,this.funcionarioVinculado&&(this.aparelho.funcionario_id=this.funcionarioVinculado.id,this.aparelho.status=this.aparelhoStatus.EM_USO),this.store.dispatch(x,this.aparelho).then((()=>{this.notify(T.SUCCESS,`Aparelho ${this.aparelho.marca}-${this.aparelho.modelo} cadastrado com sucesso!`),this.$router.push("/aparelhos")})).catch((a=>{this.notify(T.DANGER,a.response.data.message)})))},deleteAparelho(a){this.store.dispatch(Z,a.id).then((()=>{this.notify(T.SUCCESS,`Aparelho ${a.marca}-${a.modelo} excluído com sucesso!`)})).catch((a=>{this.notify(T.DANGER,a.response.data.message)}))}}});const Jl=(0,D.Z)(Ql,[["render",Kl]]);var at=Jl;const et=(0,s._)("div",null,[(0,s._)("h1",{class:"subtitle"},"Lista de Aparelhos Telefônicos")],-1),it={class:"main-form"},ot={class:"sag-button"},st=(0,s._)("span",{class:"icon is-small"},[(0,s._)("i",{class:"fas fa-plus"})],-1),lt=(0,s._)("span",null,"Adicionar",-1),tt={class:"container is-widescreen"},nt={class:"field is-horizontal"},rt={class:"field-body"},ct=(0,s._)("div",{class:"field is-narrow"},[(0,s._)("div",{class:"control"}," Mostrando ")],-1),dt={class:"field is-narrow"},ut={class:"control"},pt={class:"select"},mt=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option>',5),ht=[mt],_t=(0,s._)("div",{class:"field is-narrow"},[(0,s._)("div",{class:"control"}," linhas por página ")],-1),ft={class:"field-body"},vt={class:"field is-grouped is-grouped-right"},gt={class:"control has-icons-right"},bt=(0,s._)("span",{class:"icon is-small is-right"},[(0,s._)("i",{class:"fa-solid fa-magnifying-glass"})],-1),Ct={key:0,class:"table is-fullwidth"},wt=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("td",null,"Num. Série"),(0,s._)("td",null,"IMEI"),(0,s._)("td",null,"Marca"),(0,s._)("td",null,"Fabricante"),(0,s._)("td",null,"Status"),(0,s._)("td",null,"Ações")])],-1),At=(0,s._)("span",{class:"icon is-small"},[(0,s._)("i",{class:"fas fa-pencil-alt"})],-1),yt=["onClick"],St=(0,s._)("span",{class:"icon is-small"},[(0,s._)("i",{class:"fas fa-trash"})],-1),Dt=[St],Nt={class:"pagination",role:"pagination","aria-label":"pagination"},Et={class:"pagination-list"},kt=["onClick"];function It(a,e,i,l,t,n){const r=(0,s.up)("ModalNotification"),c=(0,s.up)("router-link"),d=(0,s.up)("BoxNotification");return(0,s.wg)(),(0,s.iD)(s.HY,null,[et,(0,s.Wm)(r,{isActive:a.modalActive,title:a.modalTitle,message:a.modalMessage,onOnSaveModal:e[0]||(e[0]=e=>a.deleteAparelho(a.modalAparelhoID,a.modalAparelhoSpec)),onOnCancelModal:e[1]||(e[1]=e=>a.closeModalDeleteAparelho())},null,8,["isActive","title","message"]),(0,s._)("section",it,[(0,s._)("div",ot,[(0,s.Wm)(c,{to:"/aparelhos/novo",class:"button"},{default:(0,s.w5)((()=>[st,lt])),_:1})]),(0,s._)("div",tt,[(0,s._)("div",nt,[(0,s._)("div",rt,[ct,(0,s._)("div",dt,[(0,s._)("div",ut,[(0,s._)("div",pt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=e=>a.limitPerPage=e)},ht,512),[[o.bM,a.limitPerPage]])])])]),_t]),(0,s._)("div",ft,[(0,s._)("div",vt,[(0,s._)("div",gt,[(0,s.wy)((0,s._)("input",{type:"text",class:"input","onUpdate:modelValue":e[3]||(e[3]=e=>a.search=e),placeholder:"Busca..."},null,512),[[o.nr,a.search]]),bt])])])]),a.aparelhos?((0,s.wg)(),(0,s.iD)("table",Ct,[wt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.filteredEntries,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.id},[(0,s._)("td",null,(0,b.zw)(e.numero_serie),1),(0,s._)("td",null,(0,b.zw)(e.imei),1),(0,s._)("td",null,(0,b.zw)(e.marca),1),(0,s._)("td",null,(0,b.zw)(e.fabricante),1),(0,s._)("td",null,(0,b.zw)(e.status),1),(0,s._)("td",null,[(0,s.Wm)(c,{to:`/aparelhos/${e.id}`,class:"button"},{default:(0,s.w5)((()=>[At])),_:2},1032,["to"]),(0,s._)("button",{class:"button ml-2 is-danger",onClick:i=>a.modalDeleteAparelho(e.id,e.marca.concat(" ",e.modelo))},Dt,8,yt)])])))),128))])])):((0,s.wg)(),(0,s.j4)(d,{key:1,message:"Não há aparelhos cadastrados na base de dados"})),(0,s._)("div",Nt,[(0,s._)("ul",Et,[(0,s._)("li",null,[(0,s._)("a",{href:"#",onClick:e[4]||(e[4]=(0,o.iM)((e=>a.pageActive=1),["prevent"])),class:"pagination-link"},"«")]),(0,s._)("li",null,[(0,s._)("a",{href:"#",onClick:e[5]||(e[5]=(0,o.iM)((e=>a.pageActive=a.pageActive>1?a.pageActive-1:a.pageActive),["prevent"])),class:"pagination-link"},"‹")]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.renderPagination,((e,i)=>((0,s.wg)(),(0,s.iD)("li",{key:i},[(0,s._)("a",{class:(0,b.C_)(["pagination-link",{"is-current":a.pageActive===Number(e)}]),href:"#",onClick:(0,o.iM)((i=>a.pageActive=Number(e)),["prevent"])},(0,b.zw)(e),11,kt)])))),128)),(0,s._)("li",null,[(0,s._)("a",{href:"#",onClick:e[6]||(e[6]=(0,o.iM)((e=>a.pageActive=a.pageActive<a.totalPages?a.pageActive+1:a.pageActive),["prevent"])),class:"pagination-link"},"›")]),(0,s._)("li",null,[(0,s._)("a",{href:"#",onClick:e[7]||(e[7]=(0,o.iM)((e=>a.pageActive=a.totalPages),["prevent"])),class:"pagination-link"},"»")])])])])])],64)}var Ft=(0,s.aZ)({name:"ListaAparelhosViewComponent",components:{BoxNotification:Fi,ModalNotification:xi},data(){return{modalActive:!1,modalTitle:"",modalMessage:"",modalAparelhoID:"",modalAparelhoSpec:""}},setup(){const a=Ta(),{notify:e}=Ge();a.dispatch($);const i=(0,We.iH)(1),o=(0,We.iH)(5),l=(0,We.iH)(1),t=(0,We.iH)(""),n=(0,We.iH)("");return{aparelhos:(0,s.Fl)((()=>a.state.aparelho.aparelhos)),store:a,notify:e,limitPerPage:o,pageActive:i,totalPages:l,search:t,deletedAparelhoID:n,filteredEntries:(0,s.Fl)((()=>{let e=a.state.aparelho.aparelhos;return t.value.length>=2&&(e=Ri.IX.search(a.state.aparelho.aparelhos,t.value)),""!=n.value&&(e=e.filter((a=>a.id!=n.value))),l.value=Ri.IX.pages(e,o.value),e=Ri.IX.paginate(e,i.value,o.value),e})),renderPagination:(0,s.Fl)((()=>{let a=Ri.IX.pagination(l.value,i.value,2);return a}))}},methods:{deleteAparelho(a,e){this.store.dispatch(Z,a).then((()=>{this.notify(T.SUCCESS,`Aparelho ${e} excluído com sucesso!`),this.deletedAparelhoID=a,this.modalActive=!1})).catch((a=>{this.notify(T.DANGER,`${a.response.data.message}`),this.modalActive=!1}))},modalDeleteAparelho(a,e){this.modalActive=!0,this.modalTitle="Excluir Aparelho",this.modalMessage=`Você realmente deseja excluir o aparelho ${e} ?`,this.modalAparelhoID=a,this.modalAparelhoSpec=e},closeModalDeleteAparelho(){this.modalActive=!1,this.modalTitle="",this.modalMessage="",this.modalAparelhoID="",this.modalAparelhoSpec=""}}});const Lt=(0,D.Z)(Ft,[["render",It]]);var Mt=Lt;const Ot={class:"main-window"},Tt=(0,s._)("h1",{class:"title"},"Funcionários",-1);function Vt(a,e,i,o,l,t){const n=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",Ot,[Tt,(0,s.Wm)(n)])}var Ut=(0,s.aZ)({name:"FuncionariosViewComponent"});const Pt=(0,D.Z)(Ut,[["render",Vt]]);var zt=Pt;const Ht=(0,s._)("div",null,[(0,s._)("h1",{class:"subtitle"},"Adicionar ou Alterar Funcionário")],-1),$t={class:"main-form"},xt={class:"container is-widescreen"},Rt={class:"field is-horizontal"},Zt=(0,s._)("div",{class:"field-label is-normal"},[(0,s._)("label",{class:"label"},"Nome/Sobrenome")],-1),Wt={class:"field-body"},Gt={class:"field"},qt={class:"control is-expanded"},jt={class:"help is-danger"},Bt={class:"field"},Yt={class:"control is-expanded"},Kt={class:"help is-danger"},Xt={class:"field is-horizontal"},Qt=(0,s._)("div",{class:"field-label is-normal"},[(0,s._)("label",{class:"label"},"Nome no Crachá")],-1),Jt={class:"field-body"},an={class:"field"},en={class:"control is-expanded"},on={class:"help is-danger"},sn={class:"field is-horizontal"},ln=(0,s._)("div",{class:"field-label is-normal"},[(0,s._)("label",{class:"label"},"Admissão")],-1),tn={class:"field-body"},nn={class:"field is-narrow"},rn={class:"control is-expanded"},cn={class:"help is-danger"},dn={class:"field is-horizontal"},un=(0,s._)("div",{class:"field-label is-normal"},[(0,s._)("label",{class:"label"},"Nascimento")],-1),pn={class:"field-body"},mn={class:"field is-narrow"},hn={class:"control is-expanded"},_n={class:"help is-danger"},fn={class:"field is-horizontal"},vn=(0,s._)("div",{class:"field-label is-normal"},[(0,s._)("label",{class:"label"},"RG/CPF")],-1),gn={class:"field-body"},bn={class:"field"},Cn={class:"control is-expanded"},wn={key:0,class:"help is-danger"},An={key:1,class:"help"},yn={class:"field"},Sn={class:"control is-expanded"},Dn={key:0,class:"help is-danger"},Nn={key:1,class:"help"},En={class:"field is-horizontal"},kn=(0,s._)("div",{class:"field-label is-normal"},[(0,s._)("label",{class:"label"},"Cargo")],-1),In={class:"field-body"},Fn={class:"field"},Ln={class:"control is-expanded"},Mn={class:"help is-danger"},On={class:"field is-horizontal"},Tn=(0,s._)("div",{class:"field-label is-normal"},[(0,s._)("label",{class:"label"},"Centro de Custo")],-1),Vn={class:"field-body"},Un={class:"field"},Pn={class:"control"},zn={class:"is-fullwidth"},Hn={class:"help is-danger"},$n={key:0,class:"field is-horizontal"},xn=(0,s._)("div",{class:"field-label is-normal"},[(0,s._)("label",{class:"label"},"Telefones em Posse")],-1),Rn={class:"field-body"},Zn={class:"field"},Wn={class:"control is-expanded"},Gn={class:"table"},qn=(0,s._)("thead",null,[(0,s._)("th",null,[(0,s._)("abbr",{title:"Aparelho"},"Aparelho")]),(0,s._)("th",null,[(0,s._)("abbr",{title:"Marca"},"Marca")]),(0,s._)("th",null,[(0,s._)("abbr",{title:"Modelo"},"Modelo")]),(0,s._)("th",null,[(0,s._)("abbr",{title:"Num. Série"},"# Série")]),(0,s._)("th",null,[(0,s._)("abbr",{title:"Num. Linha"},"# Linha")])],-1),jn={key:1,class:"field is-horizontal"},Bn=(0,s._)("div",{class:"field-label is-normal"},[(0,s._)("label",{class:"label"},"Linhas em Posse")],-1),Yn={class:"field-body"},Kn={class:"field"},Xn={class:"control is-expanded"},Qn={class:"table"},Jn=(0,s._)("thead",null,[(0,s._)("th",null,[(0,s._)("abbr",{title:"DDD"},"DDD")]),(0,s._)("th",null,[(0,s._)("abbr",{title:"Num. Linha"},"# Linha")])],-1),ar={class:"field is-horizontal"},er=(0,s._)("div",{class:"field-label"},null,-1),ir={class:"field-body"},or={class:"field is-grouped"},sr=(0,s._)("div",{class:"control"},[(0,s._)("input",{type:"submit",class:"button is-primary",value:"Salvar"})],-1),lr={class:"control"},tr=(0,s.Uk)("Cancelar");function nr(a,e,i,o,l,t){const n=(0,s.up)("Field"),r=(0,s.up)("v-select"),c=(0,s.up)("router-link"),d=(0,s.up)("Form"),u=(0,s.Q2)("maska");return(0,s.wg)(),(0,s.iD)(s.HY,null,[Ht,(0,s._)("section",$t,[(0,s._)("div",xt,[(0,s.Wm)(d,{onSubmit:a.saveFuncionario,"validation-schema":a.funcionarioSchema},{default:(0,s.w5)((({errors:i})=>[(0,s._)("div",Rt,[Zt,(0,s._)("div",Wt,[(0,s._)("div",Gt,[(0,s._)("p",qt,[(0,s.Wm)(n,{modelValue:a.funcionario.nome,"onUpdate:modelValue":e[0]||(e[0]=e=>a.funcionario.nome=e),name:"iNome",class:(0,b.C_)(["input",{"is-danger":i.iNome}]),as:"input",placeholder:"Nome"},null,8,["modelValue","class"])]),(0,s._)("p",jt,(0,b.zw)(i.iNome),1)]),(0,s._)("div",Bt,[(0,s._)("p",Yt,[(0,s.Wm)(n,{modelValue:a.funcionario.sobrenome,"onUpdate:modelValue":e[1]||(e[1]=e=>a.funcionario.sobrenome=e),name:"iSobrenome",class:(0,b.C_)(["input",{"is-danger":i.iSobrenome}]),as:"input",placeholder:"Sobrenome"},null,8,["modelValue","class"])]),(0,s._)("p",Kt,(0,b.zw)(i.iSobrenome),1)])])]),(0,s._)("div",Xt,[Qt,(0,s._)("div",Jt,[(0,s._)("div",an,[(0,s._)("p",en,[(0,s.Wm)(n,{modelValue:a.funcionario.nome_social,"onUpdate:modelValue":e[2]||(e[2]=e=>a.funcionario.nome_social=e),name:"iNomeCracha",class:(0,b.C_)(["input",{"is-danger":i.iNomeCracha}]),as:"input"},null,8,["modelValue","class"])]),(0,s._)("p",on,(0,b.zw)(i.iNomeCracha),1)])])]),(0,s._)("div",sn,[ln,(0,s._)("div",tn,[(0,s._)("div",nn,[(0,s._)("p",rn,[(0,s.Wm)(n,{modelValue:a.funcionario.admissao,"onUpdate:modelValue":e[3]||(e[3]=e=>a.funcionario.admissao=e),name:"iAdmissao",class:(0,b.C_)(["input",{"is-danger":i.iAdmissao}]),type:"date"},null,8,["modelValue","class"])]),(0,s._)("p",cn,(0,b.zw)(i.iAdmissao),1)])])]),(0,s._)("div",dn,[un,(0,s._)("div",pn,[(0,s._)("div",mn,[(0,s._)("p",hn,[(0,s.Wm)(n,{modelValue:a.funcionario.data_nascimento,"onUpdate:modelValue":e[4]||(e[4]=e=>a.funcionario.data_nascimento=e),name:"iNascimento",class:(0,b.C_)(["input",{"is-danger":i.iNascimento}]),type:"date"},null,8,["modelValue","class"])]),(0,s._)("p",_n,(0,b.zw)(i.iNascimento),1)])])]),(0,s._)("div",fn,[vn,(0,s._)("div",gn,[(0,s._)("div",bn,[(0,s._)("p",Cn,[(0,s.wy)((0,s.Wm)(n,{modelValue:a.funcionario.rg,"onUpdate:modelValue":e[5]||(e[5]=e=>a.funcionario.rg=e),name:"iRG",class:(0,b.C_)(["input",{"is-danger":i.iRG}]),as:"input",placeholder:"RG"},null,8,["modelValue","class"]),[[u,"##.###.###-#"]])]),i.iRG?((0,s.wg)(),(0,s.iD)("p",wn,(0,b.zw)(i.iRG),1)):((0,s.wg)(),(0,s.iD)("p",An,"Entrar RG no formato 99.999.999-9"))]),(0,s._)("div",yn,[(0,s._)("p",Sn,[(0,s.wy)((0,s.Wm)(n,{modelValue:a.funcionario.cpf,"onUpdate:modelValue":e[6]||(e[6]=e=>a.funcionario.cpf=e),name:"iCPF",class:(0,b.C_)(["input",{"is-danger":i.iCPF}]),as:"input",placeholder:"CPF"},null,8,["modelValue","class"]),[[u,"###.###.###-##"]])]),i.iCPF?((0,s.wg)(),(0,s.iD)("p",Dn,(0,b.zw)(i.iCPF),1)):((0,s.wg)(),(0,s.iD)("p",Nn,"Entrar CPF no formato 999.999.999-99"))])])]),(0,s._)("div",En,[kn,(0,s._)("div",In,[(0,s._)("div",Fn,[(0,s._)("p",Ln,[(0,s.Wm)(n,{modelValue:a.funcionario.cargo,"onUpdate:modelValue":e[7]||(e[7]=e=>a.funcionario.cargo=e),name:"iCargo",class:(0,b.C_)(["input",{"is-danger":i.iCargo}]),as:"input"},null,8,["modelValue","class"])]),(0,s._)("p",Mn,(0,b.zw)(i.iCargo),1)])])]),(0,s._)("div",On,[Tn,(0,s._)("div",Vn,[(0,s._)("div",Un,[(0,s._)("div",Pn,[(0,s._)("div",zn,[(0,s.Wm)(r,{modelValue:a.funcionario.centro_custo_id,"onUpdate:modelValue":e[8]||(e[8]=e=>a.funcionario.centro_custo_id=e),placeholder:"Escolha um Centro de Custo...",options:a.ccs,label:"cc_cod",reduce:a=>a.id,multiple:!1,clearable:!0},{option:(0,s.w5)((({cc_cod:a,cc_nome:e})=>[(0,s._)("p",null,(0,b.zw)(a)+" - "+(0,b.zw)(e),1)])),_:1},8,["modelValue","options","reduce"]),(0,s.Wm)(n,{modelValue:a.funcionario.centro_custo_id,"onUpdate:modelValue":e[9]||(e[9]=e=>a.funcionario.centro_custo_id=e),name:"iCentroCusto",as:"hidden"},null,8,["modelValue"])]),(0,s._)("p",Hn,(0,b.zw)(i.iCentroCusto),1)])])])]),a.funcionario.aparelhos.length>0?((0,s.wg)(),(0,s.iD)("div",$n,[xn,(0,s._)("div",Rn,[(0,s._)("div",Zn,[(0,s._)("div",Wn,[(0,s._)("table",Gn,[qn,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.funcionario.aparelhos,((e,i)=>((0,s.wg)(),(0,s.iD)("tr",{key:i},[(0,s._)("td",null,(0,b.zw)(e.imei),1),(0,s._)("td",null,(0,b.zw)(e.marca),1),(0,s._)("td",null,(0,b.zw)(e.modelo),1),(0,s._)("td",null,(0,b.zw)(e.numero_serie),1),(0,s._)("td",null,(0,b.zw)(a.numeroTelefone(e.linha)),1)])))),128))])])])])])])):(0,s.kq)("",!0),a.funcionario.linhas.length>0?((0,s.wg)(),(0,s.iD)("div",jn,[Bn,(0,s._)("div",Yn,[(0,s._)("div",Kn,[(0,s._)("div",Xn,[(0,s._)("table",Qn,[Jn,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.funcionario.linhas,((e,i)=>((0,s.wg)(),(0,s.iD)("tr",{key:i},[(0,s._)("td",null,(0,b.zw)(e.ddd),1),(0,s._)("td",null,(0,b.zw)(a.numeroTelefone(e)),1)])))),128))])])])])])])):(0,s.kq)("",!0),(0,s._)("div",ar,[er,(0,s._)("div",ir,[(0,s._)("div",or,[sr,(0,s._)("div",lr,[(0,s.Wm)(c,{to:"/funcionarios",class:"button is-light"},{default:(0,s.w5)((()=>[tr])),_:1})])])])])])),_:1},8,["onSubmit","validation-schema"])])])],64)}var rr=(0,s.aZ)({name:"FormularioFuncionariosViewComponent",components:{Form:qe.l0,Field:qe.gN},props:{id:{type:String}},setup(a){const e=Ta();e.dispatch(B);const i=(0,We.iH)({}),{notify:o}=Ge(),l=(0,We.iH)("");if(a.id){const o=e.state.funcionario?.funcionarios.find((e=>e.id==a.id));i.value=o,l.value=o?.centro_custo_id||""}else i.value.aparelhos=[],i.value.linhas=[];return{store:e,notify:o,ccs:(0,s.Fl)((()=>e.state.centrocusto.ccs)),funcionario:i,selectedCostCenter:l}},data(){const a=je.Ry().shape({iNome:je.Z_().required("O campo NOME é obrigatório"),iSobrenome:je.Z_().required("O campo SOBRENOME é obrigatório"),iNomeCracha:je.Z_().required("O campo NOME NO CRACHÁ é obrigatório"),iAdmissao:je.Z_().required("O campo ADMISSÃO é obrigatório"),iNascimento:je.Z_().required("O campo NASCIMENTO é obrigatório"),iRG:je.Z_().required("O campo RG é obrigatório"),iCPF:je.Z_().required("O campo CPF é obrigatório"),iCargo:je.Z_().required("O campo CARGO é obrigatório"),iCentroCusto:je.Z_().required("O campo CENTRO DE CUSTO é obrigatório"),iLinhas:je.IX().of(je.Z_().required("O campo LINHA é obrigatório")),iAparelhos:je.IX().of(je.Z_().required("O campo APARELHO é obrigatório"))});return{funcionarioSchema:a}},methods:{saveFuncionario(){this.id?(console.log(this.funcionario),this.store.dispatch(la,this.funcionario).then((()=>{this.notify(T.SUCCESS,`Funcionario ${this.funcionario.nome_social} alterado com sucesso!`),this.$router.push("/funcionarios")})).catch((a=>this.notify(T.DANGER,a.response.data)))):(console.log(this.funcionario),this.store.dispatch(sa,this.funcionario).then((()=>{this.notify(T.SUCCESS,`Funcionario ${this.funcionario.nome_social} criado com sucesso!`),this.$router.push("/funcionarios")})).catch((a=>this.notify(T.DANGER,a.response.data))))},selectCostCenter(){console.log("Centro de Custo selecionado")},getNumeroTelefone(a){return`(${a?.ddd}) ${a?.numero.substring(0,5)}-${a?.numero.substring(5,9)}`}},computed:{employeeCostCenter(){return this.funcionario.centro_custo?.id||""},numeroTelefone(){return a=>void 0!=a?`(${a?.ddd}) ${a?.numero.substring(0,5)}-${a?.numero.substring(5,9)}`:"N/A"}}});const cr=(0,D.Z)(rr,[["render",nr]]);var dr=cr;const ur=(0,s._)("div",null,[(0,s._)("h1",{class:"subtitle"},"Lista de Funcionários")],-1),pr={class:"main-form"},mr={class:"sag-button"},hr=(0,s._)("span",{class:"icon is-small"},[(0,s._)("i",{class:"fas fa-plus"})],-1),_r=(0,s._)("span",null,"Adicionar",-1),fr={class:"container is-widescreen"},vr={class:"field is-horizontal"},gr={class:"field-body"},br=(0,s._)("div",{class:"field is-narrow"},[(0,s._)("div",{class:"control"},"Mostrando")],-1),Cr={class:"field is-narrow"},wr={class:"control"},Ar={class:"select"},yr=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option>',5),Sr=[yr],Dr=(0,s._)("div",{class:"field is-narrow"},[(0,s._)("div",{class:"control"},"linhas por página")],-1),Nr={class:"field-body"},Er={class:"field is-grouped is-grouped-right"},kr={class:"control has-icons-right"},Ir=(0,s._)("span",{class:"icon is-small is-right"},[(0,s._)("i",{class:"fa-solid fa-magnifying-glass"})],-1),Fr={key:0,id:"funcionarios",class:"table is-fullwidth"},Lr=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("td",null,"Nome do Crachá"),(0,s._)("td",null,"CPF"),(0,s._)("td",null,"Centro de Custo"),(0,s._)("td",null,"Cargo"),(0,s._)("td",null,"Ações")])],-1),Mr=(0,s._)("span",{class:"icon is-small"},[(0,s._)("i",{class:"fas fa-pencil-alt"})],-1),Or=["onClick"],Tr=(0,s._)("span",{class:"icon is-small"},[(0,s._)("i",{class:"fas fa-trash"})],-1),Vr=[Tr],Ur={class:"pagination",role:"pagination","aria-label":"pagination"},Pr={class:"pagination-list"},zr=["onClick"];function Hr(a,e,i,l,t,n){const r=(0,s.up)("ModalNotification"),c=(0,s.up)("router-link"),d=(0,s.up)("BoxNotification");return(0,s.wg)(),(0,s.iD)(s.HY,null,[ur,(0,s.Wm)(r,{isActive:a.modalActive,title:a.modalTitle,message:a.modalMessage,onOnSaveModal:e[0]||(e[0]=e=>a.deleteFuncionario(a.modalFunc)),onOnCancelModal:e[1]||(e[1]=e=>a.closeModalDeleteFunc())},null,8,["isActive","title","message"]),(0,s._)("section",pr,[(0,s._)("div",mr,[(0,s.Wm)(c,{to:"/funcionarios/novo",class:"button"},{default:(0,s.w5)((()=>[hr,_r])),_:1})]),(0,s._)("div",fr,[(0,s._)("div",vr,[(0,s._)("div",gr,[br,(0,s._)("div",Cr,[(0,s._)("div",wr,[(0,s._)("div",Ar,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=e=>a.limitPerPage=e)},Sr,512),[[o.bM,a.limitPerPage]])])])]),Dr]),(0,s._)("div",Nr,[(0,s._)("div",Er,[(0,s._)("div",kr,[(0,s.wy)((0,s._)("input",{type:"text",class:"input","onUpdate:modelValue":e[3]||(e[3]=e=>a.search=e),placeholder:"Busca..."},null,512),[[o.nr,a.search]]),Ir])])])]),a.funcionarios?((0,s.wg)(),(0,s.iD)("table",Fr,[Lr,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.filteredEntries,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.id},[(0,s._)("td",null,(0,b.zw)(e.nome_social),1),(0,s._)("td",null,(0,b.zw)(e.cpf),1),(0,s._)("td",null,(0,b.zw)(e.centro_custo?.cc_cod),1),(0,s._)("td",null,(0,b.zw)(e.cargo),1),(0,s._)("td",null,[(0,s.Wm)(c,{to:`/funcionarios/${e.id}`,class:"button"},{default:(0,s.w5)((()=>[Mr])),_:2},1032,["to"]),(0,s._)("button",{class:"button ml-2 is-danger",onClick:i=>a.modalDeleteFunc(e)},Vr,8,Or)])])))),128))])])):((0,s.wg)(),(0,s.j4)(d,{key:1,message:"Não há Funcionários cadastrados na base de dados"})),(0,s._)("div",Ur,[(0,s._)("ul",Pr,[(0,s._)("li",null,[(0,s._)("a",{href:"#",onClick:e[4]||(e[4]=(0,o.iM)((e=>a.pageActive=1),["prevent"])),class:"pagination-link"},"«")]),(0,s._)("li",null,[(0,s._)("a",{href:"#",onClick:e[5]||(e[5]=(0,o.iM)((e=>a.pageActive=a.pageActive>1?a.pageActive-1:a.pageActive),["prevent"])),class:"pagination-link"},"‹")]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.renderPagination,((e,i)=>((0,s.wg)(),(0,s.iD)("li",{key:i},[(0,s._)("a",{class:(0,b.C_)(["pagination-link",{"is-current":a.pageActive===Number(e)}]),href:"#",onClick:(0,o.iM)((i=>a.pageActive=Number(e)),["prevent"])},(0,b.zw)(e),11,zr)])))),128)),(0,s._)("li",null,[(0,s._)("a",{href:"#",onClick:e[6]||(e[6]=(0,o.iM)((e=>a.pageActive=a.pageActive<a.totalPages?a.pageActive+1:a.pageActive),["prevent"])),class:"pagination-link"},"›")]),(0,s._)("li",null,[(0,s._)("a",{href:"#",onClick:e[7]||(e[7]=(0,o.iM)((e=>a.pageActive=a.totalPages),["prevent"])),class:"pagination-link"},"»")])])])])])],64)}var $r=(0,s.aZ)({name:"ListaFuncionariosViewComponent",components:{BoxNotification:Fi,ModalNotification:xi},data(){return{modalTitle:"",modalMessage:"",modalFunc:{},modalActive:!1}},setup(){const a=Ta(),{notify:e}=Ge();a.dispatch(oa);const i=(0,We.iH)(1),o=(0,We.iH)(5),l=(0,We.iH)(1),t=(0,We.iH)(""),n=(0,We.iH)("");return{store:a,funcionarios:(0,s.Fl)((()=>a.state.funcionario.funcionarios)),notify:e,limitPerPage:o,pageActive:i,totalPages:l,search:t,deletedFuncId:n,filteredEntries:(0,s.Fl)((()=>{let e=a.state.funcionario.funcionarios;return t.value.length>=2&&(e=Ri.IX.search(a.state.funcionario.funcionarios,t.value)),""!=n.value&&(e=e.filter((a=>a.id!=n.value))),l.value=Ri.IX.pages(e,o.value),e=Ri.IX.paginate(e,i.value,o.value),e})),renderPagination:(0,s.Fl)((()=>{let a=Ri.IX.pagination(l.value,i.value,2);return a}))}},methods:{modalDeleteFunc(a){this.modalActive=!0,this.modalTitle="Excluir Funcionário",this.modalMessage=`Você gostaria realmente de excluir o(a) Funcionário(a) ${a.nome_social} ?`,this.modalFunc=a},closeModalDeleteFunc(){this.modalActive=!1,this.modalTitle="",this.modalMessage="",this.modalFunc={}},deleteFuncionario(a){this.store.dispatch(ta,a.id).then((()=>{this.notify(T.SUCCESS,`Funcionário ${a.nome_social} excluído com sucesso!`),this.deletedFuncId=a.id,this.modalActive=!1})).catch((a=>{this.notify(T.DANGER,`${a.response.data.message}`),this.modalActive=!1}))}}});const xr=(0,D.Z)($r,[["render",Hr]]);var Rr=xr;const Zr={class:"main-window"},Wr=(0,s._)("h1",{class:"title"},"Utilitários",-1);function Gr(a,e,i,o,l,t){const n=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",Zr,[Wr,(0,s.Wm)(n)])}var qr=(0,s.aZ)({name:"UtilitariosViewComponent"});const jr=(0,D.Z)(qr,[["render",Gr]]);var Br=jr;const Yr=(0,s._)("div",null,[(0,s._)("h1",{class:"subtitle"},"Carga de Dados em Lote")],-1),Kr={class:"main-form"},Xr={class:"container is-widescreen"},Qr={class:"field is-horizontal"},Jr=(0,s._)("div",{class:"field-label is-normal"},[(0,s._)("label",{class:"label"},"Tipo de Objeto")],-1),ac={class:"field-body"},ec={class:"field is-narrow"},ic={class:"control"},oc={class:"select is-fullwidth"},sc=(0,s._)("option",{value:"",selected:""},"Selecione um Tipo de Objeto",-1),lc=(0,s._)("option",{value:"cc"},"Centro de Custo",-1),tc=(0,s._)("option",{value:"device"},"Aparelho",-1),nc=(0,s._)("option",{value:"line"},"Linha",-1),rc=(0,s._)("option",{value:"employee"},"Funcionário",-1),cc={class:"help is-danger"},dc={class:"field is-horizontal"},uc=(0,s._)("div",{class:"field-label is-normal"},[(0,s._)("label",{class:"label"},"Arquivo de Carga")],-1),pc={class:"field-body"},mc={class:"field is-narrow"},hc={class:"control"},_c={class:"file is-medium is-boxed has-name"},fc={class:"file-label"},vc=(0,s._)("span",{class:"file-cta"},[(0,s._)("span",{class:"file-icon"},[(0,s._)("i",{class:"fas fa-upload"})]),(0,s._)("span",{class:"file-label"}," Escolha um arquivo ")],-1),gc={class:"file-name"},bc={class:"field is-horizontal"},Cc=(0,s._)("div",{class:"field-label"},null,-1),wc={class:"field-body"},Ac={class:"field is-grouped"},yc=(0,s._)("div",{class:"control"},[(0,s._)("input",{type:"submit",class:"button is-primary",value:"Salvar"})],-1),Sc={class:"control"},Dc=(0,s.Uk)("Cancelar");function Nc(a,e,i,o,l,t){const n=(0,s.up)("Field"),r=(0,s.up)("router-link"),c=(0,s.up)("Form");return(0,s.wg)(),(0,s.iD)(s.HY,null,[Yr,(0,s._)("section",Kr,[(0,s._)("div",Xr,[(0,s.Wm)(c,{onSubmit:a.submitBulkFile,"validation-schema":a.bulkSchema},{default:(0,s.w5)((({errors:i})=>[(0,s._)("div",Qr,[Jr,(0,s._)("div",ac,[(0,s._)("div",ec,[(0,s._)("div",ic,[(0,s._)("div",oc,[(0,s.Wm)(n,{modelValue:a.tipoObjeto,"onUpdate:modelValue":e[0]||(e[0]=e=>a.tipoObjeto=e),name:"iTipoObjeto",as:"select",class:(0,b.C_)(["input",{"is-danger":i.iTipoObjeto}])},{default:(0,s.w5)((()=>[sc,lc,tc,nc,rc])),_:2},1032,["modelValue","class"])]),(0,s._)("p",cc,(0,b.zw)(i.iTipoObjeto),1)])])])]),(0,s._)("div",dc,[uc,(0,s._)("div",pc,[(0,s._)("div",mc,[(0,s._)("div",hc,[(0,s._)("div",_c,[(0,s._)("label",fc,[(0,s._)("input",{class:"file-input",type:"file",name:"file",onChange:e[1]||(e[1]=(...e)=>a.onFilePicked&&a.onFilePicked(...e))},null,32),vc,(0,s._)("span",gc,(0,b.zw)(a.fileName),1)])])])])])]),(0,s._)("div",bc,[Cc,(0,s._)("div",wc,[(0,s._)("div",Ac,[yc,(0,s._)("div",Sc,[(0,s.Wm)(r,{to:"/",class:"button is-light"},{default:(0,s.w5)((()=>[Dc])),_:1})])])])])])),_:1},8,["onSubmit","validation-schema"])])])],64)}var Ec=(0,s.aZ)({name:"BulkLoadingViewComponent",components:{Form:qe.l0,Field:qe.gN},data(){const a=je.Ry().shape({iTipoObjeto:je.Z_().required("O campo TIPO DE OBJETO é obrigatório")});return{bulkSchema:a}},setup(){const a=Ta(),{notify:e}=Ge(),i=(0,We.iH)(""),o=(0,We.iH)(null),s=(0,We.iH)(""),l=(0,We.iH)(""),t=a=>{const e=a.target.files;o.value=void 0!=e[0]?e[0]:void 0,s.value=void 0!=e[0]?e[0].name:"",l.value=void 0!=e[0]?e[0].type:""};return{store:a,notify:e,tipoObjeto:i,file:o,fileName:s,fileType:l,onFilePicked:t}},methods:{submitBulkFile(){if(console.log("Bulk File submitted"),void 0!=this.file){if("text/csv"!=this.fileType)return this.notify(T.DANGER,"Tipo de Arquivo não suportado. Selecione somente arquivos do tipo CSV!"),void this.$router.push("/");let a=new FormData;a.append("file",this.file),"cc"==this.tipoObjeto&&this.store.dispatch(J,a).then((()=>{this.notify(T.SUCCESS,"Centros de Custo carregados com sucesso!")})).catch((a=>this.notify(T.DANGER,a.response.data))),"device"==this.tipoObjeto&&this.store.dispatch(G,a).then((()=>{this.notify(T.SUCCESS,"Aparelhos carregados com sucesso!")})).catch((a=>this.notify(T.DANGER,a.response.data))),"line"==this.tipoObjeto&&this.store.dispatch(va,a).then((()=>{this.notify(T.SUCCESS,"Linhas carregadas com sucesso!")})).catch((a=>this.notify(T.DANGER,a.response.data))),"employee"==this.tipoObjeto&&this.store.dispatch(ca,a).then((()=>{this.notify(T.SUCCESS,"Funcionários carregados com sucesso!")})).catch((a=>this.notify(T.DANGER,a.response.data)))}else this.notify(T.DANGER,"Favor selecionar um arquivo para carga")}}});const kc=(0,D.Z)(Ec,[["render",Nc]]);var Ic=kc;const Fc=(0,s._)("div",null,[(0,s._)("h1",{class:"subtitle"},"Gerador de Termo de Responsabilidade")],-1),Lc={class:"main-form"},Mc={class:"sag-button"},Oc=(0,s._)("span",{class:"icon is-small"},[(0,s._)("i",{class:"fas fa-plus"})],-1),Tc=(0,s._)("span",null,"Adicionar",-1),Vc={class:"container is-widescreen"},Uc={class:"field is-horizontal"},Pc={class:"field-body"},zc=(0,s._)("div",{class:"field is-narrow"},[(0,s._)("div",{class:"control"},"Mostrando")],-1),Hc={class:"field is-narrow"},$c={class:"control"},xc={class:"select"},Rc=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option>',5),Zc=[Rc],Wc=(0,s._)("div",{class:"field is-narrow"},[(0,s._)("div",{class:"control"},"linhas por página")],-1),Gc={class:"field-body"},qc={class:"field is-grouped is-grouped-right"},jc={class:"control has-icons-right"},Bc=(0,s._)("span",{class:"icon is-small is-right"},[(0,s._)("i",{class:"fa-solid fa-magnifying-glass"})],-1),Yc={key:0,id:"funcionarios",class:"table is-fullwidth"},Kc=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("td",null,"Nome do Crachá"),(0,s._)("td",null,"CPF"),(0,s._)("td",null,"Centro de Custo"),(0,s._)("td",null,"Cargo"),(0,s._)("td",null,"Ações")])],-1),Xc=["onClick"],Qc=(0,s._)("span",{class:"icon is-small"},[(0,s._)("i",{class:"fa-solid fa-file-circle-check"})],-1),Jc=(0,s._)("span",{class:"is-normal"}," Gerar ",-1),ad=[Qc,Jc],ed={class:"pagination",role:"pagination","aria-label":"pagination"},id={class:"pagination-list"},od=["onClick"];function sd(a,e,i,l,t,n){const r=(0,s.up)("ModalNotification"),c=(0,s.up)("router-link"),d=(0,s.up)("BoxNotification");return(0,s.wg)(),(0,s.iD)(s.HY,null,[Fc,(0,s.Wm)(r,{isActive:a.modalActive,title:a.modalTitle,message:a.modalMessage,onOnSaveModal:e[0]||(e[0]=e=>a.generateTermo(a.modalFunc)),onOnCancelModal:e[1]||(e[1]=e=>a.closeModalGenerateTermo())},null,8,["isActive","title","message"]),(0,s._)("section",Lc,[(0,s._)("div",Mc,[(0,s.Wm)(c,{to:"/funcionarios/novo",class:"button"},{default:(0,s.w5)((()=>[Oc,Tc])),_:1})]),(0,s._)("div",Vc,[(0,s._)("div",Uc,[(0,s._)("div",Pc,[zc,(0,s._)("div",Hc,[(0,s._)("div",$c,[(0,s._)("div",xc,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=e=>a.limitPerPage=e)},Zc,512),[[o.bM,a.limitPerPage]])])])]),Wc]),(0,s._)("div",Gc,[(0,s._)("div",qc,[(0,s._)("div",jc,[(0,s.wy)((0,s._)("input",{type:"text",class:"input","onUpdate:modelValue":e[3]||(e[3]=e=>a.search=e),placeholder:"Busca..."},null,512),[[o.nr,a.search]]),Bc])])])]),a.funcionarios?((0,s.wg)(),(0,s.iD)("table",Yc,[Kc,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.filteredEntries,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.id},[(0,s._)("td",null,(0,b.zw)(e.nome_social),1),(0,s._)("td",null,(0,b.zw)(e.cpf),1),(0,s._)("td",null,(0,b.zw)(e.centro_custo?.cc_cod),1),(0,s._)("td",null,(0,b.zw)(e.cargo),1),(0,s._)("td",null,[(0,s._)("button",{class:"button ml-2 is-primary",onClick:i=>a.modalGenerateTermo(e)},ad,8,Xc)])])))),128))])])):((0,s.wg)(),(0,s.j4)(d,{key:1,message:"Não há Funcionários cadastrados na base de dados"})),(0,s._)("div",ed,[(0,s._)("ul",id,[(0,s._)("li",null,[(0,s._)("a",{href:"#",onClick:e[4]||(e[4]=(0,o.iM)((e=>a.pageActive=1),["prevent"])),class:"pagination-link"},"«")]),(0,s._)("li",null,[(0,s._)("a",{href:"#",onClick:e[5]||(e[5]=(0,o.iM)((e=>a.pageActive=a.pageActive>1?a.pageActive-1:a.pageActive),["prevent"])),class:"pagination-link"},"‹")]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.renderPagination,((e,i)=>((0,s.wg)(),(0,s.iD)("li",{key:i},[(0,s._)("a",{class:(0,b.C_)(["pagination-link",{"is-current":a.pageActive===Number(e)}]),href:"#",onClick:(0,o.iM)((i=>a.pageActive=Number(e)),["prevent"])},(0,b.zw)(e),11,od)])))),128)),(0,s._)("li",null,[(0,s._)("a",{href:"#",onClick:e[6]||(e[6]=(0,o.iM)((e=>a.pageActive=a.pageActive<a.totalPages?a.pageActive+1:a.pageActive),["prevent"])),class:"pagination-link"},"›")]),(0,s._)("li",null,[(0,s._)("a",{href:"#",onClick:e[7]||(e[7]=(0,o.iM)((e=>a.pageActive=a.totalPages),["prevent"])),class:"pagination-link"},"»")])])])])])],64)}var ld=(0,s.aZ)({name:"ListaFuncionariosViewComponent",components:{BoxNotification:Fi,ModalNotification:xi},data(){return{modalTitle:"",modalMessage:"",modalFunc:{},modalActive:!1}},setup(){const a=Ta(),{notify:e}=Ge();a.dispatch(oa);const i=(0,We.iH)(1),o=(0,We.iH)(5),l=(0,We.iH)(1),t=(0,We.iH)(""),n=(0,We.iH)("");return{store:a,funcionarios:(0,s.Fl)((()=>a.state.funcionario.funcionarios)),notify:e,limitPerPage:o,pageActive:i,totalPages:l,search:t,deletedFuncId:n,filteredEntries:(0,s.Fl)((()=>{let e=a.state.funcionario.funcionarios;return t.value.length>=2&&(e=Ri.IX.search(a.state.funcionario.funcionarios,t.value)),l.value=Ri.IX.pages(e,o.value),e=Ri.IX.paginate(e,i.value,o.value),e})),renderPagination:(0,s.Fl)((()=>{let a=Ri.IX.pagination(l.value,i.value,2);return a}))}},methods:{modalGenerateTermo(a){this.modalActive=!0,this.modalTitle="Gerar Termo",this.modalMessage=`Você gostaria realmente gerar o termo do(a) Funcionário(a) ${a.nome_social} ?`,this.modalFunc=a},closeModalGenerateTermo(){this.modalActive=!1,this.modalTitle="",this.modalMessage="",this.modalFunc={}},generateTermo(a){this.store.dispatch(ra,a.id).then((()=>{this.notify(T.SUCCESS,`Termo para o(a) funcionário(a) ${a.nome_social} gerado com sucesso!`),this.deletedFuncId=a.id,this.modalActive=!1})).catch((a=>{this.notify(T.DANGER,`${a.response.data.message}`),this.modalActive=!1}))}}});const td=(0,D.Z)(ld,[["render",sd]]);var nd=td,rd=i.p+"img/sag-dark-logo.919fc01b.png";const cd={class:"hero is-fullheight is-link"},dd={class:"hero-body"},ud={class:"container has-text-centered"},pd={class:"column is-4 is-offset-4"},md={class:"box"},hd=(0,s._)("div",{class:"box"},[(0,s._)("img",{src:rd,width:"200"})],-1),_d=(0,s._)("div",{class:"title has-text-black is-5"}," GIS - Controle de Celulares ",-1),fd={class:"field"},vd={class:"control"},gd={class:"help is-danger"},bd={class:"field"},Cd={class:"control"},wd={class:"help is-danger"},Ad=(0,s._)("input",{type:"submit",class:"button is-block is-dark is-normal is-fullwidth",value:"Login"},null,-1);function yd(a,e,i,o,l,t){const n=(0,s.up)("Field"),r=(0,s.up)("Form");return(0,s.wg)(),(0,s.iD)("div",cd,[(0,s._)("div",dd,[(0,s._)("div",ud,[(0,s._)("div",pd,[(0,s._)("div",md,[hd,_d,(0,s.Wm)(r,{onSubmit:a.handleLogin,"validation-schema":a.loginSchema},{default:(0,s.w5)((({errors:i})=>[(0,s._)("div",fd,[(0,s._)("div",vd,[(0,s.Wm)(n,{modelValue:a.user.username,"onUpdate:modelValue":e[0]||(e[0]=e=>a.user.username=e),class:(0,b.C_)(["input is-normal",{"is-danger":i.iUsername}]),type:"email",placeholder:"E-mail",name:"iUsername"},null,8,["modelValue","class"])]),(0,s._)("p",gd,(0,b.zw)(i.iUsername),1)]),(0,s._)("div",bd,[(0,s._)("div",Cd,[(0,s.Wm)(n,{modelValue:a.user.password,"onUpdate:modelValue":e[1]||(e[1]=e=>a.user.password=e),class:(0,b.C_)(["input is-normal",{"is-danger":i.iPassword}]),type:"password",placeholder:"Senha",name:"iPassword"},null,8,["modelValue","class"])]),(0,s._)("p",wd,(0,b.zw)(i.iPassword),1)]),Ad])),_:1},8,["onSubmit","validation-schema"])])])])])])}var Sd=(0,s.aZ)({name:"LoginComponentView",components:{Form:qe.l0,Field:qe.gN},data(){const a=je.Ry().shape({iUsername:je.Z_().required("O campo E-MAIL é obrigatório"),iPassword:je.Z_().required("O campo SENHA é obrigatório")});return{loginSchema:a}},setup(){const a=(0,We.iH)({}),e=Ta();return{user:a,store:e}},methods:{handleLogin(){this.store.dispatch(Ia,this.user).then((()=>{this.$router.push("/home")}))}}});const Dd=(0,D.Z)(Sd,[["render",yd]]);var Nd=Dd;const Ed=[{path:"/",name:"Login",component:Nd},{path:"/home",name:"Home",component:he},{path:"/cc",component:Ce,children:[{path:"",name:"ListaCC",component:Gi},{path:"novo",name:"CriarCC",component:Ke},{path:":id",name:"AtualizarCC",component:Ke,props:!0}]},{path:"/linhas",component:Qi,children:[{path:"",name:"ListaLinhas",component:Os},{path:"nova",name:"FormularioLinhas",component:es},{path:":id",name:"AtualizarLinha",component:es,props:!0}]},{path:"/aparelhos",component:Hs,children:[{path:"",name:"ListaAparelhos",component:Mt},{path:"novo",name:"FormularioAparelhos",component:at},{path:":id",name:"AtualizarAparelho",component:at,props:!0}]},{path:"/funcionarios",component:zt,children:[{path:"",name:"ListaFuncionarios",component:Rr},{path:"novo",name:"FormularioFuncionarios",component:dr},{path:":id",name:"AtualizarFuncionario",component:dr,props:!0}]},{path:"/utilities",component:Br,children:[{path:"bulk",name:"CargaEmLote",component:Ic},{path:"termo",name:"GeradorDeTermos",component:nd}]}],kd=(0,xa.p7)({history:(0,xa.PO)(),routes:Ed});kd.beforeEach(((a,e,i)=>{if("Login"!==a.name){const a=localStorage.getItem("jwt");a||i("/")}i()})),kd.afterEach((()=>{(0,s.Y3)((()=>document.title="GIS - Controle de Celulares"))}));var Id=kd,Fd=i(5457),Ld=i(2153),Md=i(9285);function Od(a,e){if(a.length!==e.length)return!1;const i=[...e];return a.every((a=>{const e=i.shift();return!(!a||!e)&&(a.homeAccountId===e.homeAccountId&&a.localAccountId===e.localAccountId&&a.username===e.username)}))}const Td={install:(a,e)=>{const i=Fd.$H.Startup,o=e.getAllAccounts(),s=(0,We.qj)({instance:e,inProgress:i,accounts:o});a.config.globalProperties.$msal=s,e.addEventCallback((a=>{switch(a.eventType){case Ld.t.ACCOUNT_ADDED:case Ld.t.ACCOUNT_REMOVED:case Ld.t.LOGIN_SUCCESS:case Ld.t.SSO_SILENT_SUCCESS:case Ld.t.HANDLE_REDIRECT_END:case Ld.t.LOGIN_FAILURE:case Ld.t.SSO_SILENT_FAILURE:case Ld.t.LOGOUT_END:case Ld.t.ACQUIRE_TOKEN_SUCCESS:case Ld.t.ACQUIRE_TOKEN_FAILURE:{const a=e.getAllAccounts();Od(a,s.accounts)||(s.accounts=a);break}}const i=Md.w.getInteractionStatusFromEvent(a,s.inProgress);null!==i&&(s.inProgress=i)}))}};var Vd=i(9495),Ud=i(3655);const Pd={names:{signUpSignIn:"B2C_1_SAG_Controle_Cel_Auth_Sign_In",forgotPassword:"b2c_1_reset",editProfile:"b2c_1_edit_profile"},authorities:{signUpSignIn:{authority:"https://sagitbrazil.b2clogin.com/sagitbrazil.onmicrosoft.com/b2c_1_susi"},forgotPassword:{authority:"https://sagitbrazil.b2clogin.com/sagitbrazil.onmicrosoft.com/b2c_1_reset"},editProfile:{authority:"https://sagitbrazil.b2clogin.com/sagitbrazil.onmicrosoft.com/b2c_1_edit_profile"}},authorityDomain:"sagitbrazil.b2clogin.com"},zd={auth:{clientId:"d511cd41-3057-43d1-867d-ff2291b77958",authority:Pd.authorities.signUpSignIn.authority,redirectUri:"http://localhost:8080",postLogoutRedirectUri:"http://localhost:8080"},cache:{cacheLocation:"localStorage"},system:{loggerOptions:{loggerCallback:(a,e,i)=>{if(!i)switch(a){case Vd.i.Error:return void console.error(e);case Vd.i.Info:return void console.info(e);case Vd.i.Verbose:return void console.debug(e);case Vd.i.Warning:return void console.warn(e);default:return}},logLevel:Vd.i.Verbose}}},Hd=new Ud.L(zd);var $d=i(3636),xd=i(3313),Rd=i(9583);i(4235),xd.$.config({expire:"1d",path:"/",domain:"",secure:"",sameSite:""}),(0,o.ri)($a).use(Id).use(Oa,Ma).use(Td,Hd).use(xd.$).component("v-select",$d.Z).directive("maska",Rd.RY).mount("#app")}},e={};function i(o){var s=e[o];if(void 0!==s)return s.exports;var l=e[o]={id:o,loaded:!1,exports:{}};return a[o](l,l.exports,i),l.loaded=!0,l.exports}i.m=a,function(){var a=[];i.O=function(e,o,s,l){if(!o){var t=1/0;for(d=0;d<a.length;d++){o=a[d][0],s=a[d][1],l=a[d][2];for(var n=!0,r=0;r<o.length;r++)(!1&l||t>=l)&&Object.keys(i.O).every((function(a){return i.O[a](o[r])}))?o.splice(r--,1):(n=!1,l<t&&(t=l));if(n){a.splice(d--,1);var c=s();void 0!==c&&(e=c)}}return e}l=l||0;for(var d=a.length;d>0&&a[d-1][2]>l;d--)a[d]=a[d-1];a[d]=[o,s,l]}}(),function(){i.n=function(a){var e=a&&a.__esModule?function(){return a["default"]}:function(){return a};return i.d(e,{a:e}),e}}(),function(){i.d=function(a,e){for(var o in e)i.o(e,o)&&!i.o(a,o)&&Object.defineProperty(a,o,{enumerable:!0,get:e[o]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"===typeof window)return window}}()}(),function(){i.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)}}(),function(){i.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}}(),function(){i.nmd=function(a){return a.paths=[],a.children||(a.children=[]),a}}(),function(){i.p="/"}(),function(){var a={143:0};i.O.j=function(e){return 0===a[e]};var e=function(e,o){var s,l,t=o[0],n=o[1],r=o[2],c=0;if(t.some((function(e){return 0!==a[e]}))){for(s in n)i.o(n,s)&&(i.m[s]=n[s]);if(r)var d=r(i)}for(e&&e(o);c<t.length;c++)l=t[c],i.o(a,l)&&a[l]&&a[l][0](),a[l]=0;return i.O(d)},o=self["webpackChunksag_front_ctrl_cel"]=self["webpackChunksag_front_ctrl_cel"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=i.O(void 0,[998],(function(){return i(266)}));o=i.O(o)})();
//# sourceMappingURL=app.cc98795a.js.map